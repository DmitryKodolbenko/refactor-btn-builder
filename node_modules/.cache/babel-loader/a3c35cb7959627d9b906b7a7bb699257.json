{"ast":null,"code":"import { isMobile } from 'is-mobile';\nimport { waitFor } from '@near-wallet-selector/core';\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n\nfunction __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\nvar icon = `data:image/png;base64,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`;\nconst isInstalled = () => {\n  return waitFor(() => {\n    var _a;\n    return !!((_a = window.nearFiWallet) === null || _a === void 0 ? void 0 : _a.isNearFi);\n  }).catch(() => false);\n};\nconst setupNearFiState = () => {\n  const wallet = window.nearFiWallet;\n  return {\n    wallet\n  };\n};\nconst NearFi = _ref => {\n  let {\n    options,\n    metadata,\n    store,\n    emitter,\n    logger\n  } = _ref;\n  return __awaiter(void 0, void 0, void 0, function* () {\n    const _state = setupNearFiState();\n    const signOut = () => __awaiter(void 0, void 0, void 0, function* () {\n      if (!_state.wallet.isSignedIn()) {\n        return;\n      }\n      const res = yield _state.wallet.signOut();\n      if (res === true) {\n        return;\n      }\n      const error = new Error(typeof res.error === \"string\" ? res.error : res.error.type); // Prevent signing out by throwing.\n\n      if (error.message === \"User reject\") {\n        throw error;\n      } // Continue signing out but log the issue.\n\n      logger.log(\"Failed to sign out\");\n      logger.error(error);\n    });\n    const setupEvents = () => {\n      _state.wallet.on(\"accountChanged\", newAccountId => __awaiter(void 0, void 0, void 0, function* () {\n        logger.log(\"onAccountChange\", newAccountId);\n        emitter.emit(\"signedOut\", null);\n      }));\n      _state.wallet.on(\"rpcChanged\", rpc => __awaiter(void 0, void 0, void 0, function* () {\n        logger.log(\"onNetworkChange\", rpc);\n        if (options.network.networkId !== rpc.networkId) {\n          yield signOut();\n          emitter.emit(\"signedOut\", null);\n          emitter.emit(\"networkChanged\", {\n            networkId: rpc.networkId\n          });\n        }\n      }));\n    };\n    const getAccounts = () => __awaiter(void 0, void 0, void 0, function* () {\n      let accountId = _state.wallet.getAccountId();\n      if (!accountId) {\n        yield _state.wallet.resolveSignInState();\n        accountId = _state.wallet.getAccountId();\n        if (!accountId) {\n          return [];\n        }\n      }\n      return [{\n        accountId\n      }];\n    });\n    const isValidActions = actions => {\n      return actions.every(x => x.type === \"FunctionCall\");\n    };\n    const transformActions = actions => {\n      const validActions = isValidActions(actions);\n      if (!validActions) {\n        throw new Error(`Only 'FunctionCall' actions types are supported by ${metadata.name}`);\n      }\n      return actions.map(x => x.params);\n    };\n    const transformTransactions = transactions => {\n      return transactions.map(transaction => {\n        return {\n          receiverId: transaction.receiverId,\n          actions: transformActions(transaction.actions)\n        };\n      });\n    };\n    if (_state.wallet && _state.wallet.isSignedIn()) {\n      setupEvents();\n    }\n    return {\n      signIn(_ref2) {\n        let {\n          contractId,\n          methodNames\n        } = _ref2;\n        return __awaiter(this, void 0, void 0, function* () {\n          const existingAccounts = yield getAccounts();\n          if (existingAccounts.length) {\n            return existingAccounts;\n          }\n          const {\n            accessKey,\n            error\n          } = yield _state.wallet.requestSignIn({\n            contractId,\n            methodNames\n          });\n          if (!accessKey || error) {\n            yield signOut();\n            throw new Error((typeof error === \"string\" ? error : error.type) || \"Failed to sign in\");\n          }\n          setupEvents();\n          return yield getAccounts();\n        });\n      },\n      signOut,\n      getAccounts() {\n        return __awaiter(this, void 0, void 0, function* () {\n          return yield getAccounts();\n        });\n      },\n      verifyOwner(_ref3) {\n        let {\n          message\n        } = _ref3;\n        return __awaiter(this, void 0, void 0, function* () {\n          logger.log(\"NearFi:verifyOwner\", {\n            message\n          });\n          throw new Error(`Method not supported by ${metadata.name}`);\n        });\n      },\n      signAndSendTransaction(_ref4) {\n        let {\n          signerId,\n          receiverId,\n          actions\n        } = _ref4;\n        return __awaiter(this, void 0, void 0, function* () {\n          logger.log(\"signAndSendTransaction\", {\n            signerId,\n            receiverId,\n            actions\n          });\n          const {\n            contract\n          } = store.getState();\n          if (!_state.wallet.isSignedIn() || !contract) {\n            throw new Error(\"Wallet not signed in\");\n          }\n          return _state.wallet.signAndSendTransaction({\n            receiverId: receiverId || contract.contractId,\n            actions: transformActions(actions)\n          }).then(res => {\n            var _a;\n            if (res.error) {\n              throw new Error(res.error);\n            } // Shouldn't happen but avoids inconsistent responses.\n\n            if (!((_a = res.response) === null || _a === void 0 ? void 0 : _a.length)) {\n              throw new Error(\"Invalid response\");\n            }\n            return res.response[0];\n          });\n        });\n      },\n      signAndSendTransactions(_ref5) {\n        let {\n          transactions\n        } = _ref5;\n        return __awaiter(this, void 0, void 0, function* () {\n          logger.log(\"signAndSendTransactions\", {\n            transactions\n          });\n          if (!_state.wallet.isSignedIn()) {\n            throw new Error(\"Wallet not signed in\");\n          }\n          return _state.wallet.requestSignTransactions({\n            transactions: transformTransactions(transactions)\n          }).then(res => {\n            var _a;\n            if (res.error) {\n              throw new Error(res.error);\n            } // Shouldn't happen but avoids inconsistent responses.\n\n            if (!((_a = res.response) === null || _a === void 0 ? void 0 : _a.length)) {\n              throw new Error(\"Invalid response\");\n            }\n            return res.response;\n          });\n        });\n      }\n    };\n  });\n};\nfunction setupNearFi() {\n  let {\n    iconUrl = icon,\n    deprecated = false\n  } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return () => __awaiter(this, void 0, void 0, function* () {\n    const mobile = isMobile();\n    const installed = yield isInstalled();\n    if (!mobile || !installed) {\n      return null;\n    } // Add extra wait to ensure NearFi's sign in status is read from the\n    // browser extension background env.\n\n    yield waitFor(() => {\n      var _a;\n      return !!((_a = window.nearFiWallet) === null || _a === void 0 ? void 0 : _a.isSignedIn());\n    }, {\n      timeout: 300\n    }).catch(() => false);\n    return {\n      id: \"nearfi\",\n      type: \"injected\",\n      metadata: {\n        name: \"NearFi\",\n        description: \"Your NEAR DeFi experience On The Go\",\n        iconUrl,\n        downloadUrl: \"https://nearfi.finance\",\n        deprecated,\n        available: installed\n      },\n      init: NearFi\n    };\n  });\n}\nexport { setupNearFi };","map":{"version":3,"names":["isMobile","waitFor","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","icon","isInstalled","_a","window","nearFiWallet","isNearFi","catch","setupNearFiState","wallet","NearFi","options","metadata","store","emitter","logger","_state","signOut","isSignedIn","res","error","Error","type","message","log","setupEvents","on","newAccountId","emit","rpc","network","networkId","getAccounts","accountId","getAccountId","resolveSignInState","isValidActions","actions","every","x","transformActions","validActions","name","map","params","transformTransactions","transactions","transaction","receiverId","signIn","contractId","methodNames","existingAccounts","length","accessKey","requestSignIn","verifyOwner","signAndSendTransaction","signerId","contract","getState","response","signAndSendTransactions","requestSignTransactions","setupNearFi","iconUrl","deprecated","mobile","installed","timeout","id","description","downloadUrl","available","init"],"sources":["/Users/sepezho/Work/tonana/fe/node_modules/@near-wallet-selector/nearfi/index.js"],"sourcesContent":["import { isMobile } from 'is-mobile';\nimport { waitFor } from '@near-wallet-selector/core';\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\n\nvar icon = `data:image/png;base64,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`;\n\nconst isInstalled = () => {\n  return waitFor(() => {\n    var _a;\n\n    return !!((_a = window.nearFiWallet) === null || _a === void 0 ? void 0 : _a.isNearFi);\n  }).catch(() => false);\n};\n\nconst setupNearFiState = () => {\n  const wallet = window.nearFiWallet;\n  return {\n    wallet\n  };\n};\n\nconst NearFi = ({\n  options,\n  metadata,\n  store,\n  emitter,\n  logger\n}) => __awaiter(void 0, void 0, void 0, function* () {\n  const _state = setupNearFiState();\n\n  const signOut = () => __awaiter(void 0, void 0, void 0, function* () {\n    if (!_state.wallet.isSignedIn()) {\n      return;\n    }\n\n    const res = yield _state.wallet.signOut();\n\n    if (res === true) {\n      return;\n    }\n\n    const error = new Error(typeof res.error === \"string\" ? res.error : res.error.type); // Prevent signing out by throwing.\n\n    if (error.message === \"User reject\") {\n      throw error;\n    } // Continue signing out but log the issue.\n\n\n    logger.log(\"Failed to sign out\");\n    logger.error(error);\n  });\n\n  const setupEvents = () => {\n    _state.wallet.on(\"accountChanged\", newAccountId => __awaiter(void 0, void 0, void 0, function* () {\n      logger.log(\"onAccountChange\", newAccountId);\n      emitter.emit(\"signedOut\", null);\n    }));\n\n    _state.wallet.on(\"rpcChanged\", rpc => __awaiter(void 0, void 0, void 0, function* () {\n      logger.log(\"onNetworkChange\", rpc);\n\n      if (options.network.networkId !== rpc.networkId) {\n        yield signOut();\n        emitter.emit(\"signedOut\", null);\n        emitter.emit(\"networkChanged\", {\n          networkId: rpc.networkId\n        });\n      }\n    }));\n  };\n\n  const getAccounts = () => __awaiter(void 0, void 0, void 0, function* () {\n    let accountId = _state.wallet.getAccountId();\n\n    if (!accountId) {\n      yield _state.wallet.resolveSignInState();\n      accountId = _state.wallet.getAccountId();\n\n      if (!accountId) {\n        return [];\n      }\n    }\n\n    return [{\n      accountId\n    }];\n  });\n\n  const isValidActions = actions => {\n    return actions.every(x => x.type === \"FunctionCall\");\n  };\n\n  const transformActions = actions => {\n    const validActions = isValidActions(actions);\n\n    if (!validActions) {\n      throw new Error(`Only 'FunctionCall' actions types are supported by ${metadata.name}`);\n    }\n\n    return actions.map(x => x.params);\n  };\n\n  const transformTransactions = transactions => {\n    return transactions.map(transaction => {\n      return {\n        receiverId: transaction.receiverId,\n        actions: transformActions(transaction.actions)\n      };\n    });\n  };\n\n  if (_state.wallet && _state.wallet.isSignedIn()) {\n    setupEvents();\n  }\n\n  return {\n    signIn({\n      contractId,\n      methodNames\n    }) {\n      return __awaiter(this, void 0, void 0, function* () {\n        const existingAccounts = yield getAccounts();\n\n        if (existingAccounts.length) {\n          return existingAccounts;\n        }\n\n        const {\n          accessKey,\n          error\n        } = yield _state.wallet.requestSignIn({\n          contractId,\n          methodNames\n        });\n\n        if (!accessKey || error) {\n          yield signOut();\n          throw new Error((typeof error === \"string\" ? error : error.type) || \"Failed to sign in\");\n        }\n\n        setupEvents();\n        return yield getAccounts();\n      });\n    },\n\n    signOut,\n\n    getAccounts() {\n      return __awaiter(this, void 0, void 0, function* () {\n        return yield getAccounts();\n      });\n    },\n\n    verifyOwner({\n      message\n    }) {\n      return __awaiter(this, void 0, void 0, function* () {\n        logger.log(\"NearFi:verifyOwner\", {\n          message\n        });\n        throw new Error(`Method not supported by ${metadata.name}`);\n      });\n    },\n\n    signAndSendTransaction({\n      signerId,\n      receiverId,\n      actions\n    }) {\n      return __awaiter(this, void 0, void 0, function* () {\n        logger.log(\"signAndSendTransaction\", {\n          signerId,\n          receiverId,\n          actions\n        });\n        const {\n          contract\n        } = store.getState();\n\n        if (!_state.wallet.isSignedIn() || !contract) {\n          throw new Error(\"Wallet not signed in\");\n        }\n\n        return _state.wallet.signAndSendTransaction({\n          receiverId: receiverId || contract.contractId,\n          actions: transformActions(actions)\n        }).then(res => {\n          var _a;\n\n          if (res.error) {\n            throw new Error(res.error);\n          } // Shouldn't happen but avoids inconsistent responses.\n\n\n          if (!((_a = res.response) === null || _a === void 0 ? void 0 : _a.length)) {\n            throw new Error(\"Invalid response\");\n          }\n\n          return res.response[0];\n        });\n      });\n    },\n\n    signAndSendTransactions({\n      transactions\n    }) {\n      return __awaiter(this, void 0, void 0, function* () {\n        logger.log(\"signAndSendTransactions\", {\n          transactions\n        });\n\n        if (!_state.wallet.isSignedIn()) {\n          throw new Error(\"Wallet not signed in\");\n        }\n\n        return _state.wallet.requestSignTransactions({\n          transactions: transformTransactions(transactions)\n        }).then(res => {\n          var _a;\n\n          if (res.error) {\n            throw new Error(res.error);\n          } // Shouldn't happen but avoids inconsistent responses.\n\n\n          if (!((_a = res.response) === null || _a === void 0 ? void 0 : _a.length)) {\n            throw new Error(\"Invalid response\");\n          }\n\n          return res.response;\n        });\n      });\n    }\n\n  };\n});\n\nfunction setupNearFi({\n  iconUrl = icon,\n  deprecated = false\n} = {}) {\n  return () => __awaiter(this, void 0, void 0, function* () {\n    const mobile = isMobile();\n    const installed = yield isInstalled();\n\n    if (!mobile || !installed) {\n      return null;\n    } // Add extra wait to ensure NearFi's sign in status is read from the\n    // browser extension background env.\n\n\n    yield waitFor(() => {\n      var _a;\n\n      return !!((_a = window.nearFiWallet) === null || _a === void 0 ? void 0 : _a.isSignedIn());\n    }, {\n      timeout: 300\n    }).catch(() => false);\n    return {\n      id: \"nearfi\",\n      type: \"injected\",\n      metadata: {\n        name: \"NearFi\",\n        description: \"Your NEAR DeFi experience On The Go\",\n        iconUrl,\n        downloadUrl: \"https://nearfi.finance\",\n        deprecated,\n        available: installed\n      },\n      init: NearFi\n    };\n  });\n}\n\nexport { setupNearFi };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}