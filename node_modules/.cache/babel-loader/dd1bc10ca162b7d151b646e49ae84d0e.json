{"ast":null,"code":"\"use strict\";\n\nvar _createForOfIteratorHelper = require(\"/Users/sepezho/Work/tonana/fe/node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js\").default;\nvar _classCallCheck = require(\"/Users/sepezho/Work/tonana/fe/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"/Users/sepezho/Work/tonana/fe/node_modules/@babel/runtime/helpers/createClass.js\").default;\nvar __classPrivateFieldGet = this && this.__classPrivateFieldGet || function (receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _ConfigStore_map;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ConfigStore = void 0;\nvar __1 = require(\"..\");\nvar ConfigStore = /*#__PURE__*/function () {\n  function ConfigStore(source) {\n    var _this = this;\n    _classCallCheck(this, ConfigStore);\n    _ConfigStore_map.set(this, new Map());\n    this.getString = function (key) {\n      var ex = __classPrivateFieldGet(_this, _ConfigStore_map, \"f\").get(key);\n      if (!ex) {\n        throw Error('Unable to find key ' + key);\n      }\n      return ex;\n    };\n    this.getBuffer = function (key) {\n      return Buffer.from(_this.getString(key), 'hex');\n    };\n    this.getAddress = function (key) {\n      return __1.Address.parseFriendly(_this.getString(key)).address;\n    };\n    this.getInt = function (key) {\n      return parseInt(_this.getString(key));\n    };\n    this.setBuffer = function (key, value) {\n      _this.setString(key, value.toString('hex'));\n    };\n    this.setAddress = function (key, address) {\n      _this.setString(key, address.toFriendly());\n    };\n    if (source) {\n      var parts = source.split(',');\n      var _iterator = _createForOfIteratorHelper(parts),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var p = _step.value;\n          var pp = p.split('=');\n          if (pp.length !== 2) {\n            throw Error('Mailformed input');\n          }\n          if (__classPrivateFieldGet(this, _ConfigStore_map, \"f\").has(pp[0])) {\n            throw Error('Mailformed input');\n          }\n          __classPrivateFieldGet(this, _ConfigStore_map, \"f\").set(pp[0], pp[1]);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }\n  _createClass(ConfigStore, [{\n    key: \"setString\",\n    value: function setString(key, value) {\n      if (key.indexOf('=') >= 0 || key.indexOf(',') >= 0) {\n        throw Error('Mailformed input');\n      }\n      if (value.indexOf('=') >= 0 || value.indexOf(',') >= 0) {\n        throw Error('Mailformed input');\n      }\n      __classPrivateFieldGet(this, _ConfigStore_map, \"f\").set(key, value);\n    }\n  }, {\n    key: \"setInt\",\n    value: function setInt(key, value) {\n      this.setString(key, value.toString(10));\n    }\n  }, {\n    key: \"save\",\n    value: function save() {\n      var res = '';\n      var _iterator2 = _createForOfIteratorHelper(__classPrivateFieldGet(this, _ConfigStore_map, \"f\")),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var e = _step2.value;\n          if (res !== '') {\n            res += ',';\n          }\n          res += e[0] + '=' + e[1];\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n      return res;\n    }\n  }]);\n  return ConfigStore;\n}();\nexports.ConfigStore = ConfigStore;\n_ConfigStore_map = new WeakMap();","map":{"version":3,"names":["__classPrivateFieldGet","receiver","state","kind","f","TypeError","has","call","value","get","_ConfigStore_map","Object","defineProperty","exports","ConfigStore","__1","require","source","set","Map","getString","key","ex","Error","getBuffer","Buffer","from","getAddress","Address","parseFriendly","address","getInt","parseInt","setBuffer","setString","toString","setAddress","toFriendly","parts","split","p","pp","length","indexOf","res","e","WeakMap"],"sources":["/Users/sepezho/Work/tonana/fe/node_modules/ton/dist/utils/ConfigStore.js"],"sourcesContent":["\"use strict\";\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _ConfigStore_map;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConfigStore = void 0;\nconst __1 = require(\"..\");\nclass ConfigStore {\n    constructor(source) {\n        _ConfigStore_map.set(this, new Map());\n        this.getString = (key) => {\n            let ex = __classPrivateFieldGet(this, _ConfigStore_map, \"f\").get(key);\n            if (!ex) {\n                throw Error('Unable to find key ' + key);\n            }\n            return ex;\n        };\n        this.getBuffer = (key) => {\n            return Buffer.from(this.getString(key), 'hex');\n        };\n        this.getAddress = (key) => {\n            return __1.Address.parseFriendly(this.getString(key)).address;\n        };\n        this.getInt = (key) => {\n            return parseInt(this.getString(key));\n        };\n        this.setBuffer = (key, value) => {\n            this.setString(key, value.toString('hex'));\n        };\n        this.setAddress = (key, address) => {\n            this.setString(key, address.toFriendly());\n        };\n        if (source) {\n            let parts = source.split(',');\n            for (let p of parts) {\n                let pp = p.split('=');\n                if (pp.length !== 2) {\n                    throw Error('Mailformed input');\n                }\n                if (__classPrivateFieldGet(this, _ConfigStore_map, \"f\").has(pp[0])) {\n                    throw Error('Mailformed input');\n                }\n                __classPrivateFieldGet(this, _ConfigStore_map, \"f\").set(pp[0], pp[1]);\n            }\n        }\n    }\n    setString(key, value) {\n        if (key.indexOf('=') >= 0 || key.indexOf(',') >= 0) {\n            throw Error('Mailformed input');\n        }\n        if (value.indexOf('=') >= 0 || value.indexOf(',') >= 0) {\n            throw Error('Mailformed input');\n        }\n        __classPrivateFieldGet(this, _ConfigStore_map, \"f\").set(key, value);\n    }\n    setInt(key, value) {\n        this.setString(key, value.toString(10));\n    }\n    save() {\n        let res = '';\n        for (let e of __classPrivateFieldGet(this, _ConfigStore_map, \"f\")) {\n            if (res !== '') {\n                res += ',';\n            }\n            res += e[0] + '=' + e[1];\n        }\n        return res;\n    }\n}\nexports.ConfigStore = ConfigStore;\n_ConfigStore_map = new WeakMap();\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}