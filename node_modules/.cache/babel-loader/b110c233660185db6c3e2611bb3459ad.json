{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/sepezho/Work/tonana/fe/node_modules/@babel/runtime/helpers/regeneratorRuntime.js\").default;\nvar _asyncToGenerator = require(\"/Users/sepezho/Work/tonana/fe/node_modules/@babel/runtime/helpers/asyncToGenerator.js\").default;\nvar _classCallCheck = require(\"/Users/sepezho/Work/tonana/fe/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"/Users/sepezho/Work/tonana/fe/node_modules/@babel/runtime/helpers/createClass.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EnvironmentStateAdapter_Sync = exports.EnvironmentStateAdapter = void 0;\nvar EnvironmentStateAdapter = /*#__PURE__*/function () {\n  function EnvironmentStateAdapter(implementation) {\n    _classCallCheck(this, EnvironmentStateAdapter);\n    this.implementation = implementation;\n  }\n  _createClass(EnvironmentStateAdapter, [{\n    key: \"setJson\",\n    value: function () {\n      var _setJson = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(key, value) {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.implementation.setString(key, JSON.stringify(value));\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n      function setJson(_x, _x2) {\n        return _setJson.apply(this, arguments);\n      }\n      return setJson;\n    }()\n  }, {\n    key: \"getJson\",\n    value: function () {\n      var _getJson = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(key) {\n        var val;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.implementation.getString(key);\n              case 2:\n                val = _context2.sent;\n                if (!(val == null || val === \"undefined\" || val === \"null\")) {\n                  _context2.next = 5;\n                  break;\n                }\n                return _context2.abrupt(\"return\", undefined);\n              case 5:\n                return _context2.abrupt(\"return\", JSON.parse(val));\n              case 6:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n      function getJson(_x3) {\n        return _getJson.apply(this, arguments);\n      }\n      return getJson;\n    }()\n  }, {\n    key: \"setString\",\n    value: function () {\n      var _setString = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(key, value) {\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.implementation.setString(key, value);\n              case 2:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n      function setString(_x4, _x5) {\n        return _setString.apply(this, arguments);\n      }\n      return setString;\n    }()\n  }, {\n    key: \"getString\",\n    value: function () {\n      var _getString = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(key) {\n        var val;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return this.implementation.getString(key);\n              case 2:\n                val = _context4.sent;\n                if (!(val == null)) {\n                  _context4.next = 5;\n                  break;\n                }\n                return _context4.abrupt(\"return\", undefined);\n              case 5:\n                return _context4.abrupt(\"return\", val);\n              case 6:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n      function getString(_x6) {\n        return _getString.apply(this, arguments);\n      }\n      return getString;\n    }()\n  }, {\n    key: \"createJsonGetterSetter\",\n    value: function createJsonGetterSetter(key) {\n      var _this = this;\n      return {\n        get: function get() {\n          return _this.getJson(key);\n        },\n        set: function set(value) {\n          return _this.setJson(key, value);\n        }\n      };\n    }\n  }, {\n    key: \"createStringGetterSetter\",\n    value: function createStringGetterSetter(key) {\n      var _this2 = this;\n      return {\n        get: function get() {\n          return _this2.getString(key);\n        },\n        set: function set(value) {\n          return _this2.setString(key, value);\n        }\n      };\n    }\n  }]);\n  return EnvironmentStateAdapter;\n}();\nexports.EnvironmentStateAdapter = EnvironmentStateAdapter;\nvar EnvironmentStateAdapter_Sync = /*#__PURE__*/function () {\n  function EnvironmentStateAdapter_Sync(implementation) {\n    _classCallCheck(this, EnvironmentStateAdapter_Sync);\n    this.implementation = implementation;\n  }\n  _createClass(EnvironmentStateAdapter_Sync, [{\n    key: \"setJson\",\n    value: function setJson(key, value) {\n      this.implementation.setString(key, JSON.stringify(value));\n    }\n  }, {\n    key: \"getJson\",\n    value: function getJson(key) {\n      var val = this.implementation.getString(key);\n      if (val == null || val === \"undefined\" || val === \"null\") {\n        return undefined;\n      }\n      return JSON.parse(val);\n    }\n  }, {\n    key: \"setString\",\n    value: function setString(key, value) {\n      this.implementation.setString(key, value);\n    }\n  }, {\n    key: \"getString\",\n    value: function getString(key) {\n      var val = this.implementation.getString(key);\n      if (val == null) {\n        return undefined;\n      }\n      return val;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear(key) {\n      this.implementation.clear(key);\n    }\n  }, {\n    key: \"createJsonGetterSetter\",\n    value: function createJsonGetterSetter(key) {\n      var _this3 = this;\n      return {\n        get: function get() {\n          return _this3.getJson(key);\n        },\n        set: function set(value) {\n          return _this3.setJson(key, value);\n        }\n      };\n    }\n  }, {\n    key: \"createStringGetterSetter\",\n    value: function createStringGetterSetter(key) {\n      var _this4 = this;\n      return {\n        get: function get() {\n          return _this4.getString(key);\n        },\n        set: function set(value) {\n          return _this4.setString(key, value);\n        }\n      };\n    }\n  }]);\n  return EnvironmentStateAdapter_Sync;\n}();\nexports.EnvironmentStateAdapter_Sync = EnvironmentStateAdapter_Sync;","map":{"version":3,"sources":["meteor-common/src/utils/EnvironmentStorageUtils.ts"],"names":[],"mappings":"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","sourceRoot":"./src/","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.EnvironmentStateAdapter_Sync = exports.EnvironmentStateAdapter = void 0;\r\nclass EnvironmentStateAdapter {\r\n    constructor(implementation) {\r\n        this.implementation = implementation;\r\n    }\r\n    async setJson(key, value) {\r\n        await this.implementation.setString(key, JSON.stringify(value));\r\n    }\r\n    async getJson(key) {\r\n        const val = await this.implementation.getString(key);\r\n        if (val == null || val === \"undefined\" || val === \"null\") {\r\n            return undefined;\r\n        }\r\n        return JSON.parse(val);\r\n    }\r\n    async setString(key, value) {\r\n        await this.implementation.setString(key, value);\r\n    }\r\n    async getString(key) {\r\n        const val = await this.implementation.getString(key);\r\n        if (val == null) {\r\n            return undefined;\r\n        }\r\n        return val;\r\n    }\r\n    createJsonGetterSetter(key) {\r\n        return {\r\n            get: () => this.getJson(key),\r\n            set: (value) => this.setJson(key, value),\r\n        };\r\n    }\r\n    createStringGetterSetter(key) {\r\n        return {\r\n            get: () => this.getString(key),\r\n            set: (value) => this.setString(key, value),\r\n        };\r\n    }\r\n}\r\nexports.EnvironmentStateAdapter = EnvironmentStateAdapter;\r\nclass EnvironmentStateAdapter_Sync {\r\n    constructor(implementation) {\r\n        this.implementation = implementation;\r\n    }\r\n    setJson(key, value) {\r\n        this.implementation.setString(key, JSON.stringify(value));\r\n    }\r\n    getJson(key) {\r\n        const val = this.implementation.getString(key);\r\n        if (val == null || val === \"undefined\" || val === \"null\") {\r\n            return undefined;\r\n        }\r\n        return JSON.parse(val);\r\n    }\r\n    setString(key, value) {\r\n        this.implementation.setString(key, value);\r\n    }\r\n    getString(key) {\r\n        const val = this.implementation.getString(key);\r\n        if (val == null) {\r\n            return undefined;\r\n        }\r\n        return val;\r\n    }\r\n    clear(key) {\r\n        this.implementation.clear(key);\r\n    }\r\n    createJsonGetterSetter(key) {\r\n        return {\r\n            get: () => this.getJson(key),\r\n            set: (value) => this.setJson(key, value),\r\n        };\r\n    }\r\n    createStringGetterSetter(key) {\r\n        return {\r\n            get: () => this.getString(key),\r\n            set: (value) => this.setString(key, value),\r\n        };\r\n    }\r\n}\r\nexports.EnvironmentStateAdapter_Sync = EnvironmentStateAdapter_Sync;\r\n//# sourceMappingURL=EnvironmentStorageUtils.js.map"]},"metadata":{},"sourceType":"script"}