{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.accountFromAny = void 0;\nconst math_1 = require(\"@cosmjs/math\");\nconst proto_signing_1 = require(\"@cosmjs/proto-signing\");\nconst utils_1 = require(\"@cosmjs/utils\");\nconst auth_1 = require(\"cosmjs-types/cosmos/auth/v1beta1/auth\");\nconst vesting_1 = require(\"cosmjs-types/cosmos/vesting/v1beta1/vesting\");\nfunction uint64FromProto(input) {\n  return math_1.Uint64.fromString(input.toString());\n}\nfunction accountFromBaseAccount(input) {\n  const {\n    address,\n    pubKey,\n    accountNumber,\n    sequence\n  } = input;\n  const pubkey = (0, proto_signing_1.decodePubkey)(pubKey);\n  return {\n    address: address,\n    pubkey: pubkey,\n    accountNumber: uint64FromProto(accountNumber).toNumber(),\n    sequence: uint64FromProto(sequence).toNumber()\n  };\n}\n/**\n * Basic implementation of AccountParser. This is supposed to support the most relevant\n * common Cosmos SDK account types. If you need support for exotic account types,\n * you'll need to write your own account decoder.\n */\nfunction accountFromAny(input) {\n  var _a, _b, _c, _d, _e, _f, _g;\n  const {\n    typeUrl,\n    value\n  } = input;\n  switch (typeUrl) {\n    // auth\n    case \"/cosmos.auth.v1beta1.BaseAccount\":\n      return accountFromBaseAccount(auth_1.BaseAccount.decode(value));\n    case \"/cosmos.auth.v1beta1.ModuleAccount\":\n      {\n        const baseAccount = auth_1.ModuleAccount.decode(value).baseAccount;\n        (0, utils_1.assert)(baseAccount);\n        return accountFromBaseAccount(baseAccount);\n      }\n    // vesting\n    case \"/cosmos.vesting.v1beta1.BaseVestingAccount\":\n      {\n        const baseAccount = (_a = vesting_1.BaseVestingAccount.decode(value)) === null || _a === void 0 ? void 0 : _a.baseAccount;\n        (0, utils_1.assert)(baseAccount);\n        return accountFromBaseAccount(baseAccount);\n      }\n    case \"/cosmos.vesting.v1beta1.ContinuousVestingAccount\":\n      {\n        const baseAccount = (_c = (_b = vesting_1.ContinuousVestingAccount.decode(value)) === null || _b === void 0 ? void 0 : _b.baseVestingAccount) === null || _c === void 0 ? void 0 : _c.baseAccount;\n        (0, utils_1.assert)(baseAccount);\n        return accountFromBaseAccount(baseAccount);\n      }\n    case \"/cosmos.vesting.v1beta1.DelayedVestingAccount\":\n      {\n        const baseAccount = (_e = (_d = vesting_1.DelayedVestingAccount.decode(value)) === null || _d === void 0 ? void 0 : _d.baseVestingAccount) === null || _e === void 0 ? void 0 : _e.baseAccount;\n        (0, utils_1.assert)(baseAccount);\n        return accountFromBaseAccount(baseAccount);\n      }\n    case \"/cosmos.vesting.v1beta1.PeriodicVestingAccount\":\n      {\n        const baseAccount = (_g = (_f = vesting_1.PeriodicVestingAccount.decode(value)) === null || _f === void 0 ? void 0 : _f.baseVestingAccount) === null || _g === void 0 ? void 0 : _g.baseAccount;\n        (0, utils_1.assert)(baseAccount);\n        return accountFromBaseAccount(baseAccount);\n      }\n    default:\n      throw new Error(`Unsupported type: '${typeUrl}'`);\n  }\n}\nexports.accountFromAny = accountFromAny;","map":{"version":3,"sources":["../src/accounts.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.accountFromAny = void 0;\nconst math_1 = require(\"@cosmjs/math\");\nconst proto_signing_1 = require(\"@cosmjs/proto-signing\");\nconst utils_1 = require(\"@cosmjs/utils\");\nconst auth_1 = require(\"cosmjs-types/cosmos/auth/v1beta1/auth\");\nconst vesting_1 = require(\"cosmjs-types/cosmos/vesting/v1beta1/vesting\");\nfunction uint64FromProto(input) {\n    return math_1.Uint64.fromString(input.toString());\n}\nfunction accountFromBaseAccount(input) {\n    const { address, pubKey, accountNumber, sequence } = input;\n    const pubkey = (0, proto_signing_1.decodePubkey)(pubKey);\n    return {\n        address: address,\n        pubkey: pubkey,\n        accountNumber: uint64FromProto(accountNumber).toNumber(),\n        sequence: uint64FromProto(sequence).toNumber(),\n    };\n}\n/**\n * Basic implementation of AccountParser. This is supposed to support the most relevant\n * common Cosmos SDK account types. If you need support for exotic account types,\n * you'll need to write your own account decoder.\n */\nfunction accountFromAny(input) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    const { typeUrl, value } = input;\n    switch (typeUrl) {\n        // auth\n        case \"/cosmos.auth.v1beta1.BaseAccount\":\n            return accountFromBaseAccount(auth_1.BaseAccount.decode(value));\n        case \"/cosmos.auth.v1beta1.ModuleAccount\": {\n            const baseAccount = auth_1.ModuleAccount.decode(value).baseAccount;\n            (0, utils_1.assert)(baseAccount);\n            return accountFromBaseAccount(baseAccount);\n        }\n        // vesting\n        case \"/cosmos.vesting.v1beta1.BaseVestingAccount\": {\n            const baseAccount = (_a = vesting_1.BaseVestingAccount.decode(value)) === null || _a === void 0 ? void 0 : _a.baseAccount;\n            (0, utils_1.assert)(baseAccount);\n            return accountFromBaseAccount(baseAccount);\n        }\n        case \"/cosmos.vesting.v1beta1.ContinuousVestingAccount\": {\n            const baseAccount = (_c = (_b = vesting_1.ContinuousVestingAccount.decode(value)) === null || _b === void 0 ? void 0 : _b.baseVestingAccount) === null || _c === void 0 ? void 0 : _c.baseAccount;\n            (0, utils_1.assert)(baseAccount);\n            return accountFromBaseAccount(baseAccount);\n        }\n        case \"/cosmos.vesting.v1beta1.DelayedVestingAccount\": {\n            const baseAccount = (_e = (_d = vesting_1.DelayedVestingAccount.decode(value)) === null || _d === void 0 ? void 0 : _d.baseVestingAccount) === null || _e === void 0 ? void 0 : _e.baseAccount;\n            (0, utils_1.assert)(baseAccount);\n            return accountFromBaseAccount(baseAccount);\n        }\n        case \"/cosmos.vesting.v1beta1.PeriodicVestingAccount\": {\n            const baseAccount = (_g = (_f = vesting_1.PeriodicVestingAccount.decode(value)) === null || _f === void 0 ? void 0 : _f.baseVestingAccount) === null || _g === void 0 ? void 0 : _g.baseAccount;\n            (0, utils_1.assert)(baseAccount);\n            return accountFromBaseAccount(baseAccount);\n        }\n        default:\n            throw new Error(`Unsupported type: '${typeUrl}'`);\n    }\n}\nexports.accountFromAny = accountFromAny;\n//# sourceMappingURL=accounts.js.map"]},"metadata":{},"sourceType":"script"}