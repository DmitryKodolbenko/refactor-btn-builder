{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"/Users/sepezho/Work/tonana/fe/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"/Users/sepezho/Work/tonana/fe/node_modules/@babel/runtime/helpers/createClass.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.WalletV1R2Source = void 0;\nvar __1 = require(\"../..\");\nvar WalletV1R2Source = /*#__PURE__*/function () {\n  function WalletV1R2Source(opts) {\n    var _this = this;\n    _classCallCheck(this, WalletV1R2Source);\n    this.type = 'org.ton.wallets.simple.r2';\n    this.walletVersion = 'v1';\n    this.backup = function () {\n      var store = new __1.ConfigStore();\n      store.setInt('wc', _this.workchain);\n      store.setBuffer('pk', _this.publicKey);\n      return store.save();\n    };\n    this.describe = function () {\n      return 'Simple Wallet Contract (R2)';\n    };\n    this.publicKey = opts.publicKey;\n    this.initialCode = opts.initialCode;\n    this.initialData = opts.initialData;\n    this.workchain = opts.workchain;\n    Object.freeze(this);\n  }\n  _createClass(WalletV1R2Source, null, [{\n    key: \"create\",\n    value: function create(opts) {\n      // Resolve parameters\n      var publicKey = opts.publicKey;\n      var workchain = opts.workchain;\n      // Build initial code and data\n      var initialCode = __1.Cell.fromBoc('B5EE9C724101010100530000A2FF0020DD2082014C97BA9730ED44D0D70B1FE0A4F260810200D71820D70B1FED44D0D31FD3FFD15112BAF2A122F901541044F910F2A2F80001D31F3120D74A96D307D402FB00DED1A4C8CB1FCBFFC9ED54D0E2786F')[0];\n      var initialData = new __1.Cell();\n      initialData.bits.writeUint(0, 32); // SeqNo\n      initialData.bits.writeBuffer(publicKey); // Public key\n      return new WalletV1R2Source({\n        publicKey: publicKey,\n        initialCode: initialCode,\n        initialData: initialData,\n        workchain: workchain\n      });\n    }\n  }, {\n    key: \"restore\",\n    value: function restore(backup) {\n      var store = new __1.ConfigStore(backup);\n      return WalletV1R2Source.create({\n        publicKey: store.getBuffer('pk'),\n        workchain: store.getInt('wc')\n      });\n    }\n  }]);\n  return WalletV1R2Source;\n}();\nexports.WalletV1R2Source = WalletV1R2Source;","map":{"version":3,"names":["Object","defineProperty","exports","value","WalletV1R2Source","__1","require","opts","type","walletVersion","backup","store","ConfigStore","setInt","workchain","setBuffer","publicKey","save","describe","initialCode","initialData","freeze","Cell","fromBoc","bits","writeUint","writeBuffer","create","getBuffer","getInt"],"sources":["/Users/sepezho/Work/tonana/fe/node_modules/ton/dist/contracts/sources/WalletV1R2Source.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletV1R2Source = void 0;\nconst __1 = require(\"../..\");\nclass WalletV1R2Source {\n    constructor(opts) {\n        this.type = 'org.ton.wallets.simple.r2';\n        this.walletVersion = 'v1';\n        this.backup = () => {\n            const store = new __1.ConfigStore();\n            store.setInt('wc', this.workchain);\n            store.setBuffer('pk', this.publicKey);\n            return store.save();\n        };\n        this.describe = () => {\n            return 'Simple Wallet Contract (R2)';\n        };\n        this.publicKey = opts.publicKey;\n        this.initialCode = opts.initialCode;\n        this.initialData = opts.initialData;\n        this.workchain = opts.workchain;\n        Object.freeze(this);\n    }\n    static create(opts) {\n        // Resolve parameters\n        let publicKey = opts.publicKey;\n        let workchain = opts.workchain;\n        // Build initial code and data\n        let initialCode = __1.Cell.fromBoc('B5EE9C724101010100530000A2FF0020DD2082014C97BA9730ED44D0D70B1FE0A4F260810200D71820D70B1FED44D0D31FD3FFD15112BAF2A122F901541044F910F2A2F80001D31F3120D74A96D307D402FB00DED1A4C8CB1FCBFFC9ED54D0E2786F')[0];\n        let initialData = new __1.Cell();\n        initialData.bits.writeUint(0, 32); // SeqNo\n        initialData.bits.writeBuffer(publicKey); // Public key\n        return new WalletV1R2Source({ publicKey, initialCode, initialData, workchain });\n    }\n    static restore(backup) {\n        const store = new __1.ConfigStore(backup);\n        return WalletV1R2Source.create({ publicKey: store.getBuffer('pk'), workchain: store.getInt('wc') });\n    }\n}\nexports.WalletV1R2Source = WalletV1R2Source;\n"],"mappings":"AAAA,YAAY;;AAAC;AAAA;AACbA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,gBAAgB,GAAG,KAAK,CAAC;AACjC,IAAMC,GAAG,GAAGC,OAAO,CAAC,OAAO,CAAC;AAAC,IACvBF,gBAAgB;EAClB,0BAAYG,IAAI,EAAE;IAAA;IAAA;IACd,IAAI,CAACC,IAAI,GAAG,2BAA2B;IACvC,IAAI,CAACC,aAAa,GAAG,IAAI;IACzB,IAAI,CAACC,MAAM,GAAG,YAAM;MAChB,IAAMC,KAAK,GAAG,IAAIN,GAAG,CAACO,WAAW,EAAE;MACnCD,KAAK,CAACE,MAAM,CAAC,IAAI,EAAE,KAAI,CAACC,SAAS,CAAC;MAClCH,KAAK,CAACI,SAAS,CAAC,IAAI,EAAE,KAAI,CAACC,SAAS,CAAC;MACrC,OAAOL,KAAK,CAACM,IAAI,EAAE;IACvB,CAAC;IACD,IAAI,CAACC,QAAQ,GAAG,YAAM;MAClB,OAAO,6BAA6B;IACxC,CAAC;IACD,IAAI,CAACF,SAAS,GAAGT,IAAI,CAACS,SAAS;IAC/B,IAAI,CAACG,WAAW,GAAGZ,IAAI,CAACY,WAAW;IACnC,IAAI,CAACC,WAAW,GAAGb,IAAI,CAACa,WAAW;IACnC,IAAI,CAACN,SAAS,GAAGP,IAAI,CAACO,SAAS;IAC/Bd,MAAM,CAACqB,MAAM,CAAC,IAAI,CAAC;EACvB;EAAC;IAAA;IAAA,OACD,gBAAcd,IAAI,EAAE;MAChB;MACA,IAAIS,SAAS,GAAGT,IAAI,CAACS,SAAS;MAC9B,IAAIF,SAAS,GAAGP,IAAI,CAACO,SAAS;MAC9B;MACA,IAAIK,WAAW,GAAGd,GAAG,CAACiB,IAAI,CAACC,OAAO,CAAC,sMAAsM,CAAC,CAAC,CAAC,CAAC;MAC7O,IAAIH,WAAW,GAAG,IAAIf,GAAG,CAACiB,IAAI,EAAE;MAChCF,WAAW,CAACI,IAAI,CAACC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;MACnCL,WAAW,CAACI,IAAI,CAACE,WAAW,CAACV,SAAS,CAAC,CAAC,CAAC;MACzC,OAAO,IAAIZ,gBAAgB,CAAC;QAAEY,SAAS,EAATA,SAAS;QAAEG,WAAW,EAAXA,WAAW;QAAEC,WAAW,EAAXA,WAAW;QAAEN,SAAS,EAATA;MAAU,CAAC,CAAC;IACnF;EAAC;IAAA;IAAA,OACD,iBAAeJ,MAAM,EAAE;MACnB,IAAMC,KAAK,GAAG,IAAIN,GAAG,CAACO,WAAW,CAACF,MAAM,CAAC;MACzC,OAAON,gBAAgB,CAACuB,MAAM,CAAC;QAAEX,SAAS,EAAEL,KAAK,CAACiB,SAAS,CAAC,IAAI,CAAC;QAAEd,SAAS,EAAEH,KAAK,CAACkB,MAAM,CAAC,IAAI;MAAE,CAAC,CAAC;IACvG;EAAC;EAAA;AAAA;AAEL3B,OAAO,CAACE,gBAAgB,GAAGA,gBAAgB"},"metadata":{},"sourceType":"script"}