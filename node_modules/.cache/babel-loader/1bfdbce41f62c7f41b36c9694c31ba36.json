{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.WalletV3R2Source = void 0;\nconst __1 = require(\"../..\");\nclass WalletV3R2Source {\n  constructor(opts) {\n    this.type = 'org.ton.wallets.v3.r2';\n    this.walletVersion = 'v3';\n    this.backup = () => {\n      const store = new __1.ConfigStore();\n      store.setInt('wc', this.workchain);\n      store.setInt('walletId', this.walletId);\n      store.setBuffer('pk', this.publicKey);\n      return store.save();\n    };\n    this.describe = () => {\n      return `Wallet V3 Contract (R2). WalletID = ${this.walletId}`;\n    };\n    this.publicKey = opts.publicKey;\n    this.workchain = opts.workchain;\n    this.walletId = opts.walletId;\n    this.initialCode = opts.initialCode;\n    this.initialData = opts.initialData;\n    Object.freeze(this);\n  }\n  static create(opts) {\n    // Resolve parameters\n    let publicKey = opts.publicKey;\n    let workchain = opts.workchain;\n    let walletId;\n    if (opts.walletId !== null && opts.walletId !== undefined) {\n      walletId = opts.walletId;\n    } else {\n      walletId = 698983191 + workchain;\n    }\n    // Build initial code and data\n    let initialCode = __1.Cell.fromBoc('B5EE9C724101010100710000DEFF0020DD2082014C97BA218201339CBAB19F71B0ED44D0D31FD31F31D70BFFE304E0A4F2608308D71820D31FD31FD31FF82313BBF263ED44D0D31FD31FD3FFD15132BAF2A15144BAF2A204F901541055F910F2A3F8009320D74A96D307D402FB00E8D101A4C8CB1FCB1FCBFFC9ED5410BD6DAD')[0];\n    let initialData = new __1.Cell();\n    initialData.bits.writeUint(0, 32);\n    initialData.bits.writeUint(walletId, 32);\n    initialData.bits.writeBuffer(publicKey);\n    // Build contract source\n    return new WalletV3R2Source({\n      publicKey,\n      workchain,\n      walletId,\n      initialCode,\n      initialData\n    });\n  }\n  static restore(backup) {\n    const store = new __1.ConfigStore(backup);\n    return WalletV3R2Source.create({\n      publicKey: store.getBuffer('pk'),\n      workchain: store.getInt('wc'),\n      walletId: store.getInt('walletId')\n    });\n  }\n}\nexports.WalletV3R2Source = WalletV3R2Source;","map":{"version":3,"names":["Object","defineProperty","exports","value","WalletV3R2Source","__1","require","constructor","opts","type","walletVersion","backup","store","ConfigStore","setInt","workchain","walletId","setBuffer","publicKey","save","describe","initialCode","initialData","freeze","create","undefined","Cell","fromBoc","bits","writeUint","writeBuffer","restore","getBuffer","getInt"],"sources":["/Users/sepezho/Work/tonana/fe/node_modules/ton/dist/contracts/sources/WalletV3R2Source.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletV3R2Source = void 0;\nconst __1 = require(\"../..\");\nclass WalletV3R2Source {\n    constructor(opts) {\n        this.type = 'org.ton.wallets.v3.r2';\n        this.walletVersion = 'v3';\n        this.backup = () => {\n            const store = new __1.ConfigStore();\n            store.setInt('wc', this.workchain);\n            store.setInt('walletId', this.walletId);\n            store.setBuffer('pk', this.publicKey);\n            return store.save();\n        };\n        this.describe = () => {\n            return `Wallet V3 Contract (R2). WalletID = ${this.walletId}`;\n        };\n        this.publicKey = opts.publicKey;\n        this.workchain = opts.workchain;\n        this.walletId = opts.walletId;\n        this.initialCode = opts.initialCode;\n        this.initialData = opts.initialData;\n        Object.freeze(this);\n    }\n    static create(opts) {\n        // Resolve parameters\n        let publicKey = opts.publicKey;\n        let workchain = opts.workchain;\n        let walletId;\n        if (opts.walletId !== null && opts.walletId !== undefined) {\n            walletId = opts.walletId;\n        }\n        else {\n            walletId = 698983191 + workchain;\n        }\n        // Build initial code and data\n        let initialCode = __1.Cell.fromBoc('B5EE9C724101010100710000DEFF0020DD2082014C97BA218201339CBAB19F71B0ED44D0D31FD31F31D70BFFE304E0A4F2608308D71820D31FD31FD31FF82313BBF263ED44D0D31FD31FD3FFD15132BAF2A15144BAF2A204F901541055F910F2A3F8009320D74A96D307D402FB00E8D101A4C8CB1FCB1FCBFFC9ED5410BD6DAD')[0];\n        let initialData = new __1.Cell();\n        initialData.bits.writeUint(0, 32);\n        initialData.bits.writeUint(walletId, 32);\n        initialData.bits.writeBuffer(publicKey);\n        // Build contract source\n        return new WalletV3R2Source({\n            publicKey,\n            workchain,\n            walletId,\n            initialCode,\n            initialData\n        });\n    }\n    static restore(backup) {\n        const store = new __1.ConfigStore(backup);\n        return WalletV3R2Source.create({ publicKey: store.getBuffer('pk'), workchain: store.getInt('wc'), walletId: store.getInt('walletId') });\n    }\n}\nexports.WalletV3R2Source = WalletV3R2Source;\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,gBAAgB,GAAG,KAAK,CAAC;AACjC,MAAMC,GAAG,GAAGC,OAAO,CAAC,OAAO,CAAC;AAC5B,MAAMF,gBAAgB,CAAC;EACnBG,WAAW,CAACC,IAAI,EAAE;IACd,IAAI,CAACC,IAAI,GAAG,uBAAuB;IACnC,IAAI,CAACC,aAAa,GAAG,IAAI;IACzB,IAAI,CAACC,MAAM,GAAG,MAAM;MAChB,MAAMC,KAAK,GAAG,IAAIP,GAAG,CAACQ,WAAW,EAAE;MACnCD,KAAK,CAACE,MAAM,CAAC,IAAI,EAAE,IAAI,CAACC,SAAS,CAAC;MAClCH,KAAK,CAACE,MAAM,CAAC,UAAU,EAAE,IAAI,CAACE,QAAQ,CAAC;MACvCJ,KAAK,CAACK,SAAS,CAAC,IAAI,EAAE,IAAI,CAACC,SAAS,CAAC;MACrC,OAAON,KAAK,CAACO,IAAI,EAAE;IACvB,CAAC;IACD,IAAI,CAACC,QAAQ,GAAG,MAAM;MAClB,OAAQ,uCAAsC,IAAI,CAACJ,QAAS,EAAC;IACjE,CAAC;IACD,IAAI,CAACE,SAAS,GAAGV,IAAI,CAACU,SAAS;IAC/B,IAAI,CAACH,SAAS,GAAGP,IAAI,CAACO,SAAS;IAC/B,IAAI,CAACC,QAAQ,GAAGR,IAAI,CAACQ,QAAQ;IAC7B,IAAI,CAACK,WAAW,GAAGb,IAAI,CAACa,WAAW;IACnC,IAAI,CAACC,WAAW,GAAGd,IAAI,CAACc,WAAW;IACnCtB,MAAM,CAACuB,MAAM,CAAC,IAAI,CAAC;EACvB;EACA,OAAOC,MAAM,CAAChB,IAAI,EAAE;IAChB;IACA,IAAIU,SAAS,GAAGV,IAAI,CAACU,SAAS;IAC9B,IAAIH,SAAS,GAAGP,IAAI,CAACO,SAAS;IAC9B,IAAIC,QAAQ;IACZ,IAAIR,IAAI,CAACQ,QAAQ,KAAK,IAAI,IAAIR,IAAI,CAACQ,QAAQ,KAAKS,SAAS,EAAE;MACvDT,QAAQ,GAAGR,IAAI,CAACQ,QAAQ;IAC5B,CAAC,MACI;MACDA,QAAQ,GAAG,SAAS,GAAGD,SAAS;IACpC;IACA;IACA,IAAIM,WAAW,GAAGhB,GAAG,CAACqB,IAAI,CAACC,OAAO,CAAC,kQAAkQ,CAAC,CAAC,CAAC,CAAC;IACzS,IAAIL,WAAW,GAAG,IAAIjB,GAAG,CAACqB,IAAI,EAAE;IAChCJ,WAAW,CAACM,IAAI,CAACC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC;IACjCP,WAAW,CAACM,IAAI,CAACC,SAAS,CAACb,QAAQ,EAAE,EAAE,CAAC;IACxCM,WAAW,CAACM,IAAI,CAACE,WAAW,CAACZ,SAAS,CAAC;IACvC;IACA,OAAO,IAAId,gBAAgB,CAAC;MACxBc,SAAS;MACTH,SAAS;MACTC,QAAQ;MACRK,WAAW;MACXC;IACJ,CAAC,CAAC;EACN;EACA,OAAOS,OAAO,CAACpB,MAAM,EAAE;IACnB,MAAMC,KAAK,GAAG,IAAIP,GAAG,CAACQ,WAAW,CAACF,MAAM,CAAC;IACzC,OAAOP,gBAAgB,CAACoB,MAAM,CAAC;MAAEN,SAAS,EAAEN,KAAK,CAACoB,SAAS,CAAC,IAAI,CAAC;MAAEjB,SAAS,EAAEH,KAAK,CAACqB,MAAM,CAAC,IAAI,CAAC;MAAEjB,QAAQ,EAAEJ,KAAK,CAACqB,MAAM,CAAC,UAAU;IAAE,CAAC,CAAC;EAC3I;AACJ;AACA/B,OAAO,CAACE,gBAAgB,GAAGA,gBAAgB"},"metadata":{},"sourceType":"script"}