{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.toRfc3339 = exports.fromRfc3339 = void 0;\nconst rfc3339Matcher = /^(\\d{4})-(\\d{2})-(\\d{2})[T ](\\d{2}):(\\d{2}):(\\d{2})(\\.\\d{1,9})?((?:[+-]\\d{2}:\\d{2})|Z)$/;\nfunction padded(integer) {\n  let length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n  const filled = \"00000\" + integer.toString();\n  return filled.substring(filled.length - length);\n}\nfunction fromRfc3339(str) {\n  const matches = rfc3339Matcher.exec(str);\n  if (!matches) {\n    throw new Error(\"Date string is not in RFC3339 format\");\n  }\n  const year = +matches[1];\n  const month = +matches[2];\n  const day = +matches[3];\n  const hour = +matches[4];\n  const minute = +matches[5];\n  const second = +matches[6];\n  // fractional seconds match either undefined or a string like \".1\", \".123456789\"\n  const milliSeconds = matches[7] ? Math.floor(+matches[7] * 1000) : 0;\n  let tzOffsetSign;\n  let tzOffsetHours;\n  let tzOffsetMinutes;\n  // if timezone is undefined, it must be Z or nothing (otherwise the group would have captured).\n  if (matches[8] === \"Z\") {\n    tzOffsetSign = 1;\n    tzOffsetHours = 0;\n    tzOffsetMinutes = 0;\n  } else {\n    tzOffsetSign = matches[8].substring(0, 1) === \"-\" ? -1 : 1;\n    tzOffsetHours = +matches[8].substring(1, 3);\n    tzOffsetMinutes = +matches[8].substring(4, 6);\n  }\n  const tzOffset = tzOffsetSign * (tzOffsetHours * 60 + tzOffsetMinutes) * 60; // seconds\n  const timestamp = Date.UTC(year, month - 1, day, hour, minute, second, milliSeconds) - tzOffset * 1000;\n  return new Date(timestamp);\n}\nexports.fromRfc3339 = fromRfc3339;\nfunction toRfc3339(date) {\n  const year = date.getUTCFullYear();\n  const month = padded(date.getUTCMonth() + 1);\n  const day = padded(date.getUTCDate());\n  const hour = padded(date.getUTCHours());\n  const minute = padded(date.getUTCMinutes());\n  const second = padded(date.getUTCSeconds());\n  const ms = padded(date.getUTCMilliseconds(), 3);\n  return `${year}-${month}-${day}T${hour}:${minute}:${second}.${ms}Z`;\n}\nexports.toRfc3339 = toRfc3339;","map":{"version":3,"sources":["../src/rfc3339.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toRfc3339 = exports.fromRfc3339 = void 0;\nconst rfc3339Matcher = /^(\\d{4})-(\\d{2})-(\\d{2})[T ](\\d{2}):(\\d{2}):(\\d{2})(\\.\\d{1,9})?((?:[+-]\\d{2}:\\d{2})|Z)$/;\nfunction padded(integer, length = 2) {\n    const filled = \"00000\" + integer.toString();\n    return filled.substring(filled.length - length);\n}\nfunction fromRfc3339(str) {\n    const matches = rfc3339Matcher.exec(str);\n    if (!matches) {\n        throw new Error(\"Date string is not in RFC3339 format\");\n    }\n    const year = +matches[1];\n    const month = +matches[2];\n    const day = +matches[3];\n    const hour = +matches[4];\n    const minute = +matches[5];\n    const second = +matches[6];\n    // fractional seconds match either undefined or a string like \".1\", \".123456789\"\n    const milliSeconds = matches[7] ? Math.floor(+matches[7] * 1000) : 0;\n    let tzOffsetSign;\n    let tzOffsetHours;\n    let tzOffsetMinutes;\n    // if timezone is undefined, it must be Z or nothing (otherwise the group would have captured).\n    if (matches[8] === \"Z\") {\n        tzOffsetSign = 1;\n        tzOffsetHours = 0;\n        tzOffsetMinutes = 0;\n    }\n    else {\n        tzOffsetSign = matches[8].substring(0, 1) === \"-\" ? -1 : 1;\n        tzOffsetHours = +matches[8].substring(1, 3);\n        tzOffsetMinutes = +matches[8].substring(4, 6);\n    }\n    const tzOffset = tzOffsetSign * (tzOffsetHours * 60 + tzOffsetMinutes) * 60; // seconds\n    const timestamp = Date.UTC(year, month - 1, day, hour, minute, second, milliSeconds) - tzOffset * 1000;\n    return new Date(timestamp);\n}\nexports.fromRfc3339 = fromRfc3339;\nfunction toRfc3339(date) {\n    const year = date.getUTCFullYear();\n    const month = padded(date.getUTCMonth() + 1);\n    const day = padded(date.getUTCDate());\n    const hour = padded(date.getUTCHours());\n    const minute = padded(date.getUTCMinutes());\n    const second = padded(date.getUTCSeconds());\n    const ms = padded(date.getUTCMilliseconds(), 3);\n    return `${year}-${month}-${day}T${hour}:${minute}:${second}.${ms}Z`;\n}\nexports.toRfc3339 = toRfc3339;\n//# sourceMappingURL=rfc3339.js.map"]},"metadata":{},"sourceType":"script"}