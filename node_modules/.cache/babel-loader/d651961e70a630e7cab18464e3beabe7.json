{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EnvironmentStateAdapter_Sync = exports.EnvironmentStateAdapter = void 0;\nclass EnvironmentStateAdapter {\n  constructor(implementation) {\n    this.implementation = implementation;\n  }\n  async setJson(key, value) {\n    await this.implementation.setString(key, JSON.stringify(value));\n  }\n  async getJson(key) {\n    const val = await this.implementation.getString(key);\n    if (val == null || val === \"undefined\" || val === \"null\") {\n      return undefined;\n    }\n    return JSON.parse(val);\n  }\n  async setString(key, value) {\n    await this.implementation.setString(key, value);\n  }\n  async getString(key) {\n    const val = await this.implementation.getString(key);\n    if (val == null) {\n      return undefined;\n    }\n    return val;\n  }\n  createJsonGetterSetter(key) {\n    return {\n      get: () => this.getJson(key),\n      set: value => this.setJson(key, value)\n    };\n  }\n  createStringGetterSetter(key) {\n    return {\n      get: () => this.getString(key),\n      set: value => this.setString(key, value)\n    };\n  }\n}\nexports.EnvironmentStateAdapter = EnvironmentStateAdapter;\nclass EnvironmentStateAdapter_Sync {\n  constructor(implementation) {\n    this.implementation = implementation;\n  }\n  setJson(key, value) {\n    this.implementation.setString(key, JSON.stringify(value));\n  }\n  getJson(key) {\n    const val = this.implementation.getString(key);\n    if (val == null || val === \"undefined\" || val === \"null\") {\n      return undefined;\n    }\n    return JSON.parse(val);\n  }\n  setString(key, value) {\n    this.implementation.setString(key, value);\n  }\n  getString(key) {\n    const val = this.implementation.getString(key);\n    if (val == null) {\n      return undefined;\n    }\n    return val;\n  }\n  clear(key) {\n    this.implementation.clear(key);\n  }\n  createJsonGetterSetter(key) {\n    return {\n      get: () => this.getJson(key),\n      set: value => this.setJson(key, value)\n    };\n  }\n  createStringGetterSetter(key) {\n    return {\n      get: () => this.getString(key),\n      set: value => this.setString(key, value)\n    };\n  }\n}\nexports.EnvironmentStateAdapter_Sync = EnvironmentStateAdapter_Sync;","map":{"version":3,"sources":["meteor-common/src/utils/EnvironmentStorageUtils.ts"],"names":[],"mappings":"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","sourceRoot":"./src/","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.EnvironmentStateAdapter_Sync = exports.EnvironmentStateAdapter = void 0;\r\nclass EnvironmentStateAdapter {\r\n    constructor(implementation) {\r\n        this.implementation = implementation;\r\n    }\r\n    async setJson(key, value) {\r\n        await this.implementation.setString(key, JSON.stringify(value));\r\n    }\r\n    async getJson(key) {\r\n        const val = await this.implementation.getString(key);\r\n        if (val == null || val === \"undefined\" || val === \"null\") {\r\n            return undefined;\r\n        }\r\n        return JSON.parse(val);\r\n    }\r\n    async setString(key, value) {\r\n        await this.implementation.setString(key, value);\r\n    }\r\n    async getString(key) {\r\n        const val = await this.implementation.getString(key);\r\n        if (val == null) {\r\n            return undefined;\r\n        }\r\n        return val;\r\n    }\r\n    createJsonGetterSetter(key) {\r\n        return {\r\n            get: () => this.getJson(key),\r\n            set: (value) => this.setJson(key, value),\r\n        };\r\n    }\r\n    createStringGetterSetter(key) {\r\n        return {\r\n            get: () => this.getString(key),\r\n            set: (value) => this.setString(key, value),\r\n        };\r\n    }\r\n}\r\nexports.EnvironmentStateAdapter = EnvironmentStateAdapter;\r\nclass EnvironmentStateAdapter_Sync {\r\n    constructor(implementation) {\r\n        this.implementation = implementation;\r\n    }\r\n    setJson(key, value) {\r\n        this.implementation.setString(key, JSON.stringify(value));\r\n    }\r\n    getJson(key) {\r\n        const val = this.implementation.getString(key);\r\n        if (val == null || val === \"undefined\" || val === \"null\") {\r\n            return undefined;\r\n        }\r\n        return JSON.parse(val);\r\n    }\r\n    setString(key, value) {\r\n        this.implementation.setString(key, value);\r\n    }\r\n    getString(key) {\r\n        const val = this.implementation.getString(key);\r\n        if (val == null) {\r\n            return undefined;\r\n        }\r\n        return val;\r\n    }\r\n    clear(key) {\r\n        this.implementation.clear(key);\r\n    }\r\n    createJsonGetterSetter(key) {\r\n        return {\r\n            get: () => this.getJson(key),\r\n            set: (value) => this.setJson(key, value),\r\n        };\r\n    }\r\n    createStringGetterSetter(key) {\r\n        return {\r\n            get: () => this.getString(key),\r\n            set: (value) => this.setString(key, value),\r\n        };\r\n    }\r\n}\r\nexports.EnvironmentStateAdapter_Sync = EnvironmentStateAdapter_Sync;\r\n//# sourceMappingURL=EnvironmentStorageUtils.js.map"]},"metadata":{},"sourceType":"script"}