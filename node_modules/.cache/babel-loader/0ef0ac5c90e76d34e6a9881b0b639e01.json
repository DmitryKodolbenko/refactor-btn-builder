{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createGovAminoConverters = exports.isAminoMsgDeposit = exports.isAminoMsgVote = exports.isAminoMsgSubmitProposal = void 0;\nvar utils_1 = require(\"@cosmjs/utils\");\nvar gov_1 = require(\"cosmjs-types/cosmos/gov/v1beta1/gov\");\nvar any_1 = require(\"cosmjs-types/google/protobuf/any\");\nvar long_1 = __importDefault(require(\"long\"));\nfunction isAminoMsgSubmitProposal(msg) {\n  return msg.type === \"cosmos-sdk/MsgSubmitProposal\";\n}\nexports.isAminoMsgSubmitProposal = isAminoMsgSubmitProposal;\nfunction isAminoMsgVote(msg) {\n  return msg.type === \"cosmos-sdk/MsgVote\";\n}\nexports.isAminoMsgVote = isAminoMsgVote;\nfunction isAminoMsgDeposit(msg) {\n  return msg.type === \"cosmos-sdk/MsgDeposit\";\n}\nexports.isAminoMsgDeposit = isAminoMsgDeposit;\nfunction createGovAminoConverters() {\n  return {\n    \"/cosmos.gov.v1beta1.MsgDeposit\": {\n      aminoType: \"cosmos-sdk/MsgDeposit\",\n      toAmino: function toAmino(_ref) {\n        var amount = _ref.amount,\n          depositor = _ref.depositor,\n          proposalId = _ref.proposalId;\n        return {\n          amount: amount,\n          depositor: depositor,\n          proposal_id: proposalId.toString()\n        };\n      },\n      fromAmino: function fromAmino(_ref2) {\n        var amount = _ref2.amount,\n          depositor = _ref2.depositor,\n          proposal_id = _ref2.proposal_id;\n        return {\n          amount: Array.from(amount),\n          depositor: depositor,\n          proposalId: long_1.default.fromString(proposal_id)\n        };\n      }\n    },\n    \"/cosmos.gov.v1beta1.MsgVote\": {\n      aminoType: \"cosmos-sdk/MsgVote\",\n      toAmino: function toAmino(_ref3) {\n        var option = _ref3.option,\n          proposalId = _ref3.proposalId,\n          voter = _ref3.voter;\n        return {\n          option: option,\n          proposal_id: proposalId.toString(),\n          voter: voter\n        };\n      },\n      fromAmino: function fromAmino(_ref4) {\n        var option = _ref4.option,\n          proposal_id = _ref4.proposal_id,\n          voter = _ref4.voter;\n        return {\n          option: (0, gov_1.voteOptionFromJSON)(option),\n          proposalId: long_1.default.fromString(proposal_id),\n          voter: voter\n        };\n      }\n    },\n    \"/cosmos.gov.v1beta1.MsgSubmitProposal\": {\n      aminoType: \"cosmos-sdk/MsgSubmitProposal\",\n      toAmino: function toAmino(_ref5) {\n        var initialDeposit = _ref5.initialDeposit,\n          proposer = _ref5.proposer,\n          content = _ref5.content;\n        (0, utils_1.assertDefinedAndNotNull)(content);\n        var proposal;\n        switch (content.typeUrl) {\n          case \"/cosmos.gov.v1beta1.TextProposal\":\n            {\n              var textProposal = gov_1.TextProposal.decode(content.value);\n              proposal = {\n                type: \"cosmos-sdk/TextProposal\",\n                value: {\n                  description: textProposal.description,\n                  title: textProposal.title\n                }\n              };\n              break;\n            }\n          default:\n            throw new Error(\"Unsupported proposal type: '\".concat(content.typeUrl, \"'\"));\n        }\n        return {\n          initial_deposit: initialDeposit,\n          proposer: proposer,\n          content: proposal\n        };\n      },\n      fromAmino: function fromAmino(_ref6) {\n        var initial_deposit = _ref6.initial_deposit,\n          proposer = _ref6.proposer,\n          content = _ref6.content;\n        var any_content;\n        switch (content.type) {\n          case \"cosmos-sdk/TextProposal\":\n            {\n              var value = content.value;\n              (0, utils_1.assert)((0, utils_1.isNonNullObject)(value));\n              var title = value.title,\n                description = value.description;\n              (0, utils_1.assert)(typeof title === \"string\");\n              (0, utils_1.assert)(typeof description === \"string\");\n              any_content = any_1.Any.fromPartial({\n                typeUrl: \"/cosmos.gov.v1beta1.TextProposal\",\n                value: gov_1.TextProposal.encode(gov_1.TextProposal.fromPartial({\n                  title: title,\n                  description: description\n                })).finish()\n              });\n              break;\n            }\n          default:\n            throw new Error(\"Unsupported proposal type: '\".concat(content.type, \"'\"));\n        }\n        return {\n          initialDeposit: Array.from(initial_deposit),\n          proposer: proposer,\n          content: any_content\n        };\n      }\n    }\n  };\n}\nexports.createGovAminoConverters = createGovAminoConverters;","map":{"version":3,"sources":["../../../src/modules/gov/aminomessages.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createGovAminoConverters = exports.isAminoMsgDeposit = exports.isAminoMsgVote = exports.isAminoMsgSubmitProposal = void 0;\nconst utils_1 = require(\"@cosmjs/utils\");\nconst gov_1 = require(\"cosmjs-types/cosmos/gov/v1beta1/gov\");\nconst any_1 = require(\"cosmjs-types/google/protobuf/any\");\nconst long_1 = __importDefault(require(\"long\"));\nfunction isAminoMsgSubmitProposal(msg) {\n    return msg.type === \"cosmos-sdk/MsgSubmitProposal\";\n}\nexports.isAminoMsgSubmitProposal = isAminoMsgSubmitProposal;\nfunction isAminoMsgVote(msg) {\n    return msg.type === \"cosmos-sdk/MsgVote\";\n}\nexports.isAminoMsgVote = isAminoMsgVote;\nfunction isAminoMsgDeposit(msg) {\n    return msg.type === \"cosmos-sdk/MsgDeposit\";\n}\nexports.isAminoMsgDeposit = isAminoMsgDeposit;\nfunction createGovAminoConverters() {\n    return {\n        \"/cosmos.gov.v1beta1.MsgDeposit\": {\n            aminoType: \"cosmos-sdk/MsgDeposit\",\n            toAmino: ({ amount, depositor, proposalId }) => {\n                return {\n                    amount,\n                    depositor,\n                    proposal_id: proposalId.toString(),\n                };\n            },\n            fromAmino: ({ amount, depositor, proposal_id }) => {\n                return {\n                    amount: Array.from(amount),\n                    depositor,\n                    proposalId: long_1.default.fromString(proposal_id),\n                };\n            },\n        },\n        \"/cosmos.gov.v1beta1.MsgVote\": {\n            aminoType: \"cosmos-sdk/MsgVote\",\n            toAmino: ({ option, proposalId, voter }) => {\n                return {\n                    option: option,\n                    proposal_id: proposalId.toString(),\n                    voter: voter,\n                };\n            },\n            fromAmino: ({ option, proposal_id, voter }) => {\n                return {\n                    option: (0, gov_1.voteOptionFromJSON)(option),\n                    proposalId: long_1.default.fromString(proposal_id),\n                    voter: voter,\n                };\n            },\n        },\n        \"/cosmos.gov.v1beta1.MsgSubmitProposal\": {\n            aminoType: \"cosmos-sdk/MsgSubmitProposal\",\n            toAmino: ({ initialDeposit, proposer, content, }) => {\n                (0, utils_1.assertDefinedAndNotNull)(content);\n                let proposal;\n                switch (content.typeUrl) {\n                    case \"/cosmos.gov.v1beta1.TextProposal\": {\n                        const textProposal = gov_1.TextProposal.decode(content.value);\n                        proposal = {\n                            type: \"cosmos-sdk/TextProposal\",\n                            value: {\n                                description: textProposal.description,\n                                title: textProposal.title,\n                            },\n                        };\n                        break;\n                    }\n                    default:\n                        throw new Error(`Unsupported proposal type: '${content.typeUrl}'`);\n                }\n                return {\n                    initial_deposit: initialDeposit,\n                    proposer: proposer,\n                    content: proposal,\n                };\n            },\n            fromAmino: ({ initial_deposit, proposer, content, }) => {\n                let any_content;\n                switch (content.type) {\n                    case \"cosmos-sdk/TextProposal\": {\n                        const { value } = content;\n                        (0, utils_1.assert)((0, utils_1.isNonNullObject)(value));\n                        const { title, description } = value;\n                        (0, utils_1.assert)(typeof title === \"string\");\n                        (0, utils_1.assert)(typeof description === \"string\");\n                        any_content = any_1.Any.fromPartial({\n                            typeUrl: \"/cosmos.gov.v1beta1.TextProposal\",\n                            value: gov_1.TextProposal.encode(gov_1.TextProposal.fromPartial({\n                                title: title,\n                                description: description,\n                            })).finish(),\n                        });\n                        break;\n                    }\n                    default:\n                        throw new Error(`Unsupported proposal type: '${content.type}'`);\n                }\n                return {\n                    initialDeposit: Array.from(initial_deposit),\n                    proposer: proposer,\n                    content: any_content,\n                };\n            },\n        },\n    };\n}\nexports.createGovAminoConverters = createGovAminoConverters;\n//# sourceMappingURL=aminomessages.js.map"]},"metadata":{},"sourceType":"script"}