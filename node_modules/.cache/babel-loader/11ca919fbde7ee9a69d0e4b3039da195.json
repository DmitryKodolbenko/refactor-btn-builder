{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"/Users/sepezho/Work/tonana/fe/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"/Users/sepezho/Work/tonana/fe/node_modules/@babel/runtime/helpers/createClass.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.WalletV3R2Source = void 0;\nvar __1 = require(\"../..\");\nvar WalletV3R2Source = /*#__PURE__*/function () {\n  function WalletV3R2Source(opts) {\n    var _this = this;\n    _classCallCheck(this, WalletV3R2Source);\n    this.type = 'org.ton.wallets.v3.r2';\n    this.walletVersion = 'v3';\n    this.backup = function () {\n      var store = new __1.ConfigStore();\n      store.setInt('wc', _this.workchain);\n      store.setInt('walletId', _this.walletId);\n      store.setBuffer('pk', _this.publicKey);\n      return store.save();\n    };\n    this.describe = function () {\n      return \"Wallet V3 Contract (R2). WalletID = \".concat(_this.walletId);\n    };\n    this.publicKey = opts.publicKey;\n    this.workchain = opts.workchain;\n    this.walletId = opts.walletId;\n    this.initialCode = opts.initialCode;\n    this.initialData = opts.initialData;\n    Object.freeze(this);\n  }\n  _createClass(WalletV3R2Source, null, [{\n    key: \"create\",\n    value: function create(opts) {\n      // Resolve parameters\n      var publicKey = opts.publicKey;\n      var workchain = opts.workchain;\n      var walletId;\n      if (opts.walletId !== null && opts.walletId !== undefined) {\n        walletId = opts.walletId;\n      } else {\n        walletId = 698983191 + workchain;\n      }\n      // Build initial code and data\n      var initialCode = __1.Cell.fromBoc('B5EE9C724101010100710000DEFF0020DD2082014C97BA218201339CBAB19F71B0ED44D0D31FD31F31D70BFFE304E0A4F2608308D71820D31FD31FD31FF82313BBF263ED44D0D31FD31FD3FFD15132BAF2A15144BAF2A204F901541055F910F2A3F8009320D74A96D307D402FB00E8D101A4C8CB1FCB1FCBFFC9ED5410BD6DAD')[0];\n      var initialData = new __1.Cell();\n      initialData.bits.writeUint(0, 32);\n      initialData.bits.writeUint(walletId, 32);\n      initialData.bits.writeBuffer(publicKey);\n      // Build contract source\n      return new WalletV3R2Source({\n        publicKey: publicKey,\n        workchain: workchain,\n        walletId: walletId,\n        initialCode: initialCode,\n        initialData: initialData\n      });\n    }\n  }, {\n    key: \"restore\",\n    value: function restore(backup) {\n      var store = new __1.ConfigStore(backup);\n      return WalletV3R2Source.create({\n        publicKey: store.getBuffer('pk'),\n        workchain: store.getInt('wc'),\n        walletId: store.getInt('walletId')\n      });\n    }\n  }]);\n  return WalletV3R2Source;\n}();\nexports.WalletV3R2Source = WalletV3R2Source;","map":{"version":3,"names":["Object","defineProperty","exports","value","WalletV3R2Source","__1","require","opts","type","walletVersion","backup","store","ConfigStore","setInt","workchain","walletId","setBuffer","publicKey","save","describe","initialCode","initialData","freeze","undefined","Cell","fromBoc","bits","writeUint","writeBuffer","create","getBuffer","getInt"],"sources":["/Users/sepezho/Work/tonana/fe/node_modules/ton/dist/contracts/sources/WalletV3R2Source.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletV3R2Source = void 0;\nconst __1 = require(\"../..\");\nclass WalletV3R2Source {\n    constructor(opts) {\n        this.type = 'org.ton.wallets.v3.r2';\n        this.walletVersion = 'v3';\n        this.backup = () => {\n            const store = new __1.ConfigStore();\n            store.setInt('wc', this.workchain);\n            store.setInt('walletId', this.walletId);\n            store.setBuffer('pk', this.publicKey);\n            return store.save();\n        };\n        this.describe = () => {\n            return `Wallet V3 Contract (R2). WalletID = ${this.walletId}`;\n        };\n        this.publicKey = opts.publicKey;\n        this.workchain = opts.workchain;\n        this.walletId = opts.walletId;\n        this.initialCode = opts.initialCode;\n        this.initialData = opts.initialData;\n        Object.freeze(this);\n    }\n    static create(opts) {\n        // Resolve parameters\n        let publicKey = opts.publicKey;\n        let workchain = opts.workchain;\n        let walletId;\n        if (opts.walletId !== null && opts.walletId !== undefined) {\n            walletId = opts.walletId;\n        }\n        else {\n            walletId = 698983191 + workchain;\n        }\n        // Build initial code and data\n        let initialCode = __1.Cell.fromBoc('B5EE9C724101010100710000DEFF0020DD2082014C97BA218201339CBAB19F71B0ED44D0D31FD31F31D70BFFE304E0A4F2608308D71820D31FD31FD31FF82313BBF263ED44D0D31FD31FD3FFD15132BAF2A15144BAF2A204F901541055F910F2A3F8009320D74A96D307D402FB00E8D101A4C8CB1FCB1FCBFFC9ED5410BD6DAD')[0];\n        let initialData = new __1.Cell();\n        initialData.bits.writeUint(0, 32);\n        initialData.bits.writeUint(walletId, 32);\n        initialData.bits.writeBuffer(publicKey);\n        // Build contract source\n        return new WalletV3R2Source({\n            publicKey,\n            workchain,\n            walletId,\n            initialCode,\n            initialData\n        });\n    }\n    static restore(backup) {\n        const store = new __1.ConfigStore(backup);\n        return WalletV3R2Source.create({ publicKey: store.getBuffer('pk'), workchain: store.getInt('wc'), walletId: store.getInt('walletId') });\n    }\n}\nexports.WalletV3R2Source = WalletV3R2Source;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}