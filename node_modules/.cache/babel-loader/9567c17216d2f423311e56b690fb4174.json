{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.WalletV2SigningMessage = void 0;\nconst Cell_1 = require(\"../../boc/Cell\");\nclass WalletV2SigningMessage {\n  constructor(args) {\n    this.order = args.order;\n    this.sendMode = args.sendMode;\n    if (args.timeout !== undefined && args.timeout !== null) {\n      this.timeout = args.timeout;\n    } else {\n      this.timeout = Math.floor(Date.now() / 1e3) + 60; // Default timeout: 60 seconds\n    }\n\n    if (args.seqno !== undefined && args.seqno !== null) {\n      this.seqno = args.seqno;\n    } else {\n      this.seqno = 0;\n    }\n  }\n  writeTo(cell) {\n    cell.bits.writeUint(this.seqno, 32);\n    if (this.seqno === 0) {\n      for (let i = 0; i < 32; i++) {\n        cell.bits.writeBit(1);\n      }\n    } else {\n      cell.bits.writeUint(this.timeout, 32);\n    }\n    cell.bits.writeUint8(this.sendMode);\n    // Write order\n    let orderCell = new Cell_1.Cell();\n    this.order.writeTo(orderCell);\n    cell.refs.push(orderCell);\n  }\n}\nexports.WalletV2SigningMessage = WalletV2SigningMessage;","map":{"version":3,"names":["Object","defineProperty","exports","value","WalletV2SigningMessage","Cell_1","require","constructor","args","order","sendMode","timeout","undefined","Math","floor","Date","now","seqno","writeTo","cell","bits","writeUint","i","writeBit","writeUint8","orderCell","Cell","refs","push"],"sources":["/Users/sepezho/Work/tonana/fe/node_modules/ton/dist/contracts/messages/WalletV2SigningMessage.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletV2SigningMessage = void 0;\nconst Cell_1 = require(\"../../boc/Cell\");\nclass WalletV2SigningMessage {\n    constructor(args) {\n        this.order = args.order;\n        this.sendMode = args.sendMode;\n        if (args.timeout !== undefined && args.timeout !== null) {\n            this.timeout = args.timeout;\n        }\n        else {\n            this.timeout = Math.floor(Date.now() / 1e3) + 60; // Default timeout: 60 seconds\n        }\n        if (args.seqno !== undefined && args.seqno !== null) {\n            this.seqno = args.seqno;\n        }\n        else {\n            this.seqno = 0;\n        }\n    }\n    writeTo(cell) {\n        cell.bits.writeUint(this.seqno, 32);\n        if (this.seqno === 0) {\n            for (let i = 0; i < 32; i++) {\n                cell.bits.writeBit(1);\n            }\n        }\n        else {\n            cell.bits.writeUint(this.timeout, 32);\n        }\n        cell.bits.writeUint8(this.sendMode);\n        // Write order\n        let orderCell = new Cell_1.Cell();\n        this.order.writeTo(orderCell);\n        cell.refs.push(orderCell);\n    }\n}\nexports.WalletV2SigningMessage = WalletV2SigningMessage;\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,sBAAsB,GAAG,KAAK,CAAC;AACvC,MAAMC,MAAM,GAAGC,OAAO,CAAC,gBAAgB,CAAC;AACxC,MAAMF,sBAAsB,CAAC;EACzBG,WAAW,CAACC,IAAI,EAAE;IACd,IAAI,CAACC,KAAK,GAAGD,IAAI,CAACC,KAAK;IACvB,IAAI,CAACC,QAAQ,GAAGF,IAAI,CAACE,QAAQ;IAC7B,IAAIF,IAAI,CAACG,OAAO,KAAKC,SAAS,IAAIJ,IAAI,CAACG,OAAO,KAAK,IAAI,EAAE;MACrD,IAAI,CAACA,OAAO,GAAGH,IAAI,CAACG,OAAO;IAC/B,CAAC,MACI;MACD,IAAI,CAACA,OAAO,GAAGE,IAAI,CAACC,KAAK,CAACC,IAAI,CAACC,GAAG,EAAE,GAAG,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC;IACtD;;IACA,IAAIR,IAAI,CAACS,KAAK,KAAKL,SAAS,IAAIJ,IAAI,CAACS,KAAK,KAAK,IAAI,EAAE;MACjD,IAAI,CAACA,KAAK,GAAGT,IAAI,CAACS,KAAK;IAC3B,CAAC,MACI;MACD,IAAI,CAACA,KAAK,GAAG,CAAC;IAClB;EACJ;EACAC,OAAO,CAACC,IAAI,EAAE;IACVA,IAAI,CAACC,IAAI,CAACC,SAAS,CAAC,IAAI,CAACJ,KAAK,EAAE,EAAE,CAAC;IACnC,IAAI,IAAI,CAACA,KAAK,KAAK,CAAC,EAAE;MAClB,KAAK,IAAIK,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,EAAE,EAAEA,CAAC,EAAE,EAAE;QACzBH,IAAI,CAACC,IAAI,CAACG,QAAQ,CAAC,CAAC,CAAC;MACzB;IACJ,CAAC,MACI;MACDJ,IAAI,CAACC,IAAI,CAACC,SAAS,CAAC,IAAI,CAACV,OAAO,EAAE,EAAE,CAAC;IACzC;IACAQ,IAAI,CAACC,IAAI,CAACI,UAAU,CAAC,IAAI,CAACd,QAAQ,CAAC;IACnC;IACA,IAAIe,SAAS,GAAG,IAAIpB,MAAM,CAACqB,IAAI,EAAE;IACjC,IAAI,CAACjB,KAAK,CAACS,OAAO,CAACO,SAAS,CAAC;IAC7BN,IAAI,CAACQ,IAAI,CAACC,IAAI,CAACH,SAAS,CAAC;EAC7B;AACJ;AACAvB,OAAO,CAACE,sBAAsB,GAAGA,sBAAsB"},"metadata":{},"sourceType":"script"}