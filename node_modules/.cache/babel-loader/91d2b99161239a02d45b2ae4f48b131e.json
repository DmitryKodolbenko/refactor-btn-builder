{"ast":null,"code":"\"use strict\";\n\nvar _createForOfIteratorHelper = require(\"/Users/sepezho/Work/tonana/fe/node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.crc16 = void 0;\nfunction crc16(data) {\n  var poly = 0x1021;\n  var reg = 0;\n  var message = Buffer.alloc(data.length + 2);\n  message.set(data);\n  var _iterator = _createForOfIteratorHelper(message),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var byte = _step.value;\n      var mask = 0x80;\n      while (mask > 0) {\n        reg <<= 1;\n        if (byte & mask) {\n          reg += 1;\n        }\n        mask >>= 1;\n        if (reg > 0xffff) {\n          reg &= 0xffff;\n          reg ^= poly;\n        }\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  return Buffer.from([Math.floor(reg / 256), reg % 256]);\n}\nexports.crc16 = crc16;","map":{"version":3,"names":["Object","defineProperty","exports","value","crc16","data","poly","reg","message","Buffer","alloc","length","set","byte","mask","from","Math","floor"],"sources":["/Users/sepezho/Work/tonana/fe/node_modules/ton/dist/utils/crc16.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.crc16 = void 0;\nfunction crc16(data) {\n    const poly = 0x1021;\n    let reg = 0;\n    const message = Buffer.alloc(data.length + 2);\n    message.set(data);\n    for (let byte of message) {\n        let mask = 0x80;\n        while (mask > 0) {\n            reg <<= 1;\n            if (byte & mask) {\n                reg += 1;\n            }\n            mask >>= 1;\n            if (reg > 0xffff) {\n                reg &= 0xffff;\n                reg ^= poly;\n            }\n        }\n    }\n    return Buffer.from([Math.floor(reg / 256), reg % 256]);\n}\nexports.crc16 = crc16;\n"],"mappings":"AAAA,YAAY;;AAAC;AACbA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,KAAK,GAAG,KAAK,CAAC;AACtB,SAASA,KAAK,CAACC,IAAI,EAAE;EACjB,IAAMC,IAAI,GAAG,MAAM;EACnB,IAAIC,GAAG,GAAG,CAAC;EACX,IAAMC,OAAO,GAAGC,MAAM,CAACC,KAAK,CAACL,IAAI,CAACM,MAAM,GAAG,CAAC,CAAC;EAC7CH,OAAO,CAACI,GAAG,CAACP,IAAI,CAAC;EAAC,2CACDG,OAAO;IAAA;EAAA;IAAxB,oDAA0B;MAAA,IAAjBK,IAAI;MACT,IAAIC,IAAI,GAAG,IAAI;MACf,OAAOA,IAAI,GAAG,CAAC,EAAE;QACbP,GAAG,KAAK,CAAC;QACT,IAAIM,IAAI,GAAGC,IAAI,EAAE;UACbP,GAAG,IAAI,CAAC;QACZ;QACAO,IAAI,KAAK,CAAC;QACV,IAAIP,GAAG,GAAG,MAAM,EAAE;UACdA,GAAG,IAAI,MAAM;UACbA,GAAG,IAAID,IAAI;QACf;MACJ;IACJ;EAAC;IAAA;EAAA;IAAA;EAAA;EACD,OAAOG,MAAM,CAACM,IAAI,CAAC,CAACC,IAAI,CAACC,KAAK,CAACV,GAAG,GAAG,GAAG,CAAC,EAAEA,GAAG,GAAG,GAAG,CAAC,CAAC;AAC1D;AACAL,OAAO,CAACE,KAAK,GAAGA,KAAK"},"metadata":{},"sourceType":"script"}