{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"/Users/sepezho/Work/tonana/fe/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"/Users/sepezho/Work/tonana/fe/node_modules/@babel/runtime/helpers/createClass.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.WalletV4Source = void 0;\nvar __1 = require(\"../..\");\nvar WalletV4Source = /*#__PURE__*/function () {\n  function WalletV4Source(args) {\n    _classCallCheck(this, WalletV4Source);\n    this.type = 'org.ton.wallets.v4';\n    this.walletVersion = 'v4';\n    this.initialCode = args.initialCode;\n    this.initialData = args.initialData;\n    this.workchain = args.workchain;\n    this.walletId = args.walletId;\n    this.publicKey = args.publicKey;\n  }\n  _createClass(WalletV4Source, [{\n    key: \"describe\",\n    value: function describe() {\n      return 'Wallet v4 #' + this.walletId;\n    }\n  }, {\n    key: \"backup\",\n    value: function backup() {\n      var config = new __1.ConfigStore();\n      config.setInt('wc', this.workchain);\n      config.setBuffer('pk', this.publicKey);\n      config.setInt('walletId', this.walletId);\n      return config.save();\n    }\n  }], [{\n    key: \"create\",\n    value: function create(opts) {\n      // Build initial code and data\n      var walletId = opts.walletId ? opts.walletId : 698983191;\n      var initialCode = __1.Cell.fromBoc(WalletV4Source.SOURCE)[0];\n      var initialData = new __1.Cell();\n      initialData.bits.writeUint(0, 32);\n      initialData.bits.writeUint(walletId, 32);\n      initialData.bits.writeBuffer(opts.publicKey);\n      initialData.bits.writeBit(0);\n      return new WalletV4Source({\n        initialCode: initialCode,\n        initialData: initialData,\n        workchain: opts.workchain,\n        walletId: walletId,\n        publicKey: opts.publicKey\n      });\n    }\n  }, {\n    key: \"restore\",\n    value: function restore(backup) {\n      var store = new __1.ConfigStore(backup);\n      return WalletV4Source.create({\n        workchain: store.getInt('wc'),\n        publicKey: store.getBuffer('pk'),\n        walletId: store.getInt('walletId')\n      });\n    }\n  }]);\n  return WalletV4Source;\n}();\nexports.WalletV4Source = WalletV4Source;\nWalletV4Source.SOURCE = Buffer.from('te6ccgECFAEAAtQAART/APSkE/S88sgLAQIBIAIDAgFIBAUE+PKDCNcYINMf0x/THwL4I7vyZO1E0NMf0x/T//QE0VFDuvKhUVG68qIF+QFUEGT5EPKj+AAkpMjLH1JAyx9SMMv/UhD0AMntVPgPAdMHIcAAn2xRkyDXSpbTB9QC+wDoMOAhwAHjACHAAuMAAcADkTDjDQOkyMsfEssfy/8QERITAubQAdDTAyFxsJJfBOAi10nBIJJfBOAC0x8hghBwbHVnvSKCEGRzdHK9sJJfBeAD+kAwIPpEAcjKB8v/ydDtRNCBAUDXIfQEMFyBAQj0Cm+hMbOSXwfgBdM/yCWCEHBsdWe6kjgw4w0DghBkc3RyupJfBuMNBgcCASAICQB4AfoA9AQw+CdvIjBQCqEhvvLgUIIQcGx1Z4MesXCAGFAEywUmzxZY+gIZ9ADLaRfLH1Jgyz8gyYBA+wAGAIpQBIEBCPRZMO1E0IEBQNcgyAHPFvQAye1UAXKwjiOCEGRzdHKDHrFwgBhQBcsFUAPPFiP6AhPLassfyz/JgED7AJJfA+ICASAKCwBZvSQrb2omhAgKBrkPoCGEcNQICEekk30pkQzmkD6f+YN4EoAbeBAUiYcVnzGEAgFYDA0AEbjJftRNDXCx+AA9sp37UTQgQFA1yH0BDACyMoHy//J0AGBAQj0Cm+hMYAIBIA4PABmtznaiaEAga5Drhf/AABmvHfaiaEAQa5DrhY/AAG7SB/oA1NQi+QAFyMoHFcv/ydB3dIAYyMsFywIizxZQBfoCFMtrEszMyXP7AMhAFIEBCPRR8qcCAHCBAQjXGPoA0z/IVCBHgQEI9FHyp4IQbm90ZXB0gBjIywXLAlAGzxZQBPoCFMtqEssfyz/Jc/sAAgBsgQEI1xj6ANM/MFIkgQEI9Fnyp4IQZHN0cnB0gBjIywXLAlAFzxZQA/oCE8tqyx8Syz/Jc/sAAAr0AMntVA==', 'base64');","map":{"version":3,"names":["Object","defineProperty","exports","value","WalletV4Source","__1","require","args","type","walletVersion","initialCode","initialData","workchain","walletId","publicKey","config","ConfigStore","setInt","setBuffer","save","opts","Cell","fromBoc","SOURCE","bits","writeUint","writeBuffer","writeBit","backup","store","create","getInt","getBuffer","Buffer","from"],"sources":["/Users/sepezho/Work/tonana/fe/node_modules/ton/dist/contracts/sources/WalletV4Source.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletV4Source = void 0;\nconst __1 = require(\"../..\");\nclass WalletV4Source {\n    constructor(args) {\n        this.type = 'org.ton.wallets.v4';\n        this.walletVersion = 'v4';\n        this.initialCode = args.initialCode;\n        this.initialData = args.initialData;\n        this.workchain = args.workchain;\n        this.walletId = args.walletId;\n        this.publicKey = args.publicKey;\n    }\n    static create(opts) {\n        // Build initial code and data\n        const walletId = opts.walletId ? opts.walletId : 698983191;\n        let initialCode = __1.Cell.fromBoc(WalletV4Source.SOURCE)[0];\n        let initialData = new __1.Cell();\n        initialData.bits.writeUint(0, 32);\n        initialData.bits.writeUint(walletId, 32);\n        initialData.bits.writeBuffer(opts.publicKey);\n        initialData.bits.writeBit(0);\n        return new WalletV4Source({ initialCode, initialData, workchain: opts.workchain, walletId, publicKey: opts.publicKey });\n    }\n    static restore(backup) {\n        const store = new __1.ConfigStore(backup);\n        return WalletV4Source.create({\n            workchain: store.getInt('wc'),\n            publicKey: store.getBuffer('pk'),\n            walletId: store.getInt('walletId'),\n        });\n    }\n    describe() {\n        return 'Wallet v4 #' + this.walletId;\n    }\n    backup() {\n        const config = new __1.ConfigStore();\n        config.setInt('wc', this.workchain);\n        config.setBuffer('pk', this.publicKey);\n        config.setInt('walletId', this.walletId);\n        return config.save();\n    }\n}\nexports.WalletV4Source = WalletV4Source;\nWalletV4Source.SOURCE = Buffer.from('te6ccgECFAEAAtQAART/APSkE/S88sgLAQIBIAIDAgFIBAUE+PKDCNcYINMf0x/THwL4I7vyZO1E0NMf0x/T//QE0VFDuvKhUVG68qIF+QFUEGT5EPKj+AAkpMjLH1JAyx9SMMv/UhD0AMntVPgPAdMHIcAAn2xRkyDXSpbTB9QC+wDoMOAhwAHjACHAAuMAAcADkTDjDQOkyMsfEssfy/8QERITAubQAdDTAyFxsJJfBOAi10nBIJJfBOAC0x8hghBwbHVnvSKCEGRzdHK9sJJfBeAD+kAwIPpEAcjKB8v/ydDtRNCBAUDXIfQEMFyBAQj0Cm+hMbOSXwfgBdM/yCWCEHBsdWe6kjgw4w0DghBkc3RyupJfBuMNBgcCASAICQB4AfoA9AQw+CdvIjBQCqEhvvLgUIIQcGx1Z4MesXCAGFAEywUmzxZY+gIZ9ADLaRfLH1Jgyz8gyYBA+wAGAIpQBIEBCPRZMO1E0IEBQNcgyAHPFvQAye1UAXKwjiOCEGRzdHKDHrFwgBhQBcsFUAPPFiP6AhPLassfyz/JgED7AJJfA+ICASAKCwBZvSQrb2omhAgKBrkPoCGEcNQICEekk30pkQzmkD6f+YN4EoAbeBAUiYcVnzGEAgFYDA0AEbjJftRNDXCx+AA9sp37UTQgQFA1yH0BDACyMoHy//J0AGBAQj0Cm+hMYAIBIA4PABmtznaiaEAga5Drhf/AABmvHfaiaEAQa5DrhY/AAG7SB/oA1NQi+QAFyMoHFcv/ydB3dIAYyMsFywIizxZQBfoCFMtrEszMyXP7AMhAFIEBCPRR8qcCAHCBAQjXGPoA0z/IVCBHgQEI9FHyp4IQbm90ZXB0gBjIywXLAlAGzxZQBPoCFMtqEssfyz/Jc/sAAgBsgQEI1xj6ANM/MFIkgQEI9Fnyp4IQZHN0cnB0gBjIywXLAlAFzxZQA/oCE8tqyx8Syz/Jc/sAAAr0AMntVA==', 'base64');\n"],"mappings":"AAAA,YAAY;;AAAC;AAAA;AACbA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,cAAc,GAAG,KAAK,CAAC;AAC/B,IAAMC,GAAG,GAAGC,OAAO,CAAC,OAAO,CAAC;AAAC,IACvBF,cAAc;EAChB,wBAAYG,IAAI,EAAE;IAAA;IACd,IAAI,CAACC,IAAI,GAAG,oBAAoB;IAChC,IAAI,CAACC,aAAa,GAAG,IAAI;IACzB,IAAI,CAACC,WAAW,GAAGH,IAAI,CAACG,WAAW;IACnC,IAAI,CAACC,WAAW,GAAGJ,IAAI,CAACI,WAAW;IACnC,IAAI,CAACC,SAAS,GAAGL,IAAI,CAACK,SAAS;IAC/B,IAAI,CAACC,QAAQ,GAAGN,IAAI,CAACM,QAAQ;IAC7B,IAAI,CAACC,SAAS,GAAGP,IAAI,CAACO,SAAS;EACnC;EAAC;IAAA;IAAA,OAoBD,oBAAW;MACP,OAAO,aAAa,GAAG,IAAI,CAACD,QAAQ;IACxC;EAAC;IAAA;IAAA,OACD,kBAAS;MACL,IAAME,MAAM,GAAG,IAAIV,GAAG,CAACW,WAAW,EAAE;MACpCD,MAAM,CAACE,MAAM,CAAC,IAAI,EAAE,IAAI,CAACL,SAAS,CAAC;MACnCG,MAAM,CAACG,SAAS,CAAC,IAAI,EAAE,IAAI,CAACJ,SAAS,CAAC;MACtCC,MAAM,CAACE,MAAM,CAAC,UAAU,EAAE,IAAI,CAACJ,QAAQ,CAAC;MACxC,OAAOE,MAAM,CAACI,IAAI,EAAE;IACxB;EAAC;IAAA;IAAA,OA5BD,gBAAcC,IAAI,EAAE;MAChB;MACA,IAAMP,QAAQ,GAAGO,IAAI,CAACP,QAAQ,GAAGO,IAAI,CAACP,QAAQ,GAAG,SAAS;MAC1D,IAAIH,WAAW,GAAGL,GAAG,CAACgB,IAAI,CAACC,OAAO,CAAClB,cAAc,CAACmB,MAAM,CAAC,CAAC,CAAC,CAAC;MAC5D,IAAIZ,WAAW,GAAG,IAAIN,GAAG,CAACgB,IAAI,EAAE;MAChCV,WAAW,CAACa,IAAI,CAACC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC;MACjCd,WAAW,CAACa,IAAI,CAACC,SAAS,CAACZ,QAAQ,EAAE,EAAE,CAAC;MACxCF,WAAW,CAACa,IAAI,CAACE,WAAW,CAACN,IAAI,CAACN,SAAS,CAAC;MAC5CH,WAAW,CAACa,IAAI,CAACG,QAAQ,CAAC,CAAC,CAAC;MAC5B,OAAO,IAAIvB,cAAc,CAAC;QAAEM,WAAW,EAAXA,WAAW;QAAEC,WAAW,EAAXA,WAAW;QAAEC,SAAS,EAAEQ,IAAI,CAACR,SAAS;QAAEC,QAAQ,EAARA,QAAQ;QAAEC,SAAS,EAAEM,IAAI,CAACN;MAAU,CAAC,CAAC;IAC3H;EAAC;IAAA;IAAA,OACD,iBAAec,MAAM,EAAE;MACnB,IAAMC,KAAK,GAAG,IAAIxB,GAAG,CAACW,WAAW,CAACY,MAAM,CAAC;MACzC,OAAOxB,cAAc,CAAC0B,MAAM,CAAC;QACzBlB,SAAS,EAAEiB,KAAK,CAACE,MAAM,CAAC,IAAI,CAAC;QAC7BjB,SAAS,EAAEe,KAAK,CAACG,SAAS,CAAC,IAAI,CAAC;QAChCnB,QAAQ,EAAEgB,KAAK,CAACE,MAAM,CAAC,UAAU;MACrC,CAAC,CAAC;IACN;EAAC;EAAA;AAAA;AAYL7B,OAAO,CAACE,cAAc,GAAGA,cAAc;AACvCA,cAAc,CAACmB,MAAM,GAAGU,MAAM,CAACC,IAAI,CAAC,09BAA09B,EAAE,QAAQ,CAAC"},"metadata":{},"sourceType":"script"}