"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.NominatorPool = void 0;
const ton_1 = require("ton");
class NominatorPool {
    static async create(client, source) {
        return new NominatorPool(client, source, await (0, ton_1.contractAddress)(source));
    }
    source;
    address;
    client;
    constructor(client, source, address) {
        this.source = source;
        this.address = address;
        this.client = client;
    }
    async deploy() {
        await this.client.sendMessage(new ton_1.ExternalMessage({
            to: this.address,
            body: new ton_1.CommonMessageInfo({ stateInit: new ton_1.StateInit({ code: this.source.initialCode, data: this.source.initialData }) })
        }));
    }
    async getNominatorsList() {
        console.warn(JSON.stringify((await this.client.callGetMethod(this.address, 'nominators_list')).stack));
    }
}
exports.NominatorPool = NominatorPool;
